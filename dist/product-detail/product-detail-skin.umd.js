!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["product-detail-skin"]=t(require("react")):e["product-detail-skin"]=t(e.React)}(this,e=>(()=>{"use strict";var t={12:t=>{t.exports=e}},a={};function n(e){var i=a[e];if(void 0!==i)return i.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};n.d(i,{default:()=>p});var s=n(12),r=n.n(s);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){d(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const p=(e={})=>{const{data:t={},actions:a={},utils:n={}}=e,[i,s]=r().useState(t.quantity||1),[l,d]=r().useState(!1),p=t.product||{id:1,title:"레고트 누프레임 커플잔 2P",config:{img_url:"https://via.placeholder.com/600x600/f5f5f5/999?text=Product",discounted_price:32e3,default_price:4e4}},o=t.componentProps||{},m=t.priceInfo||{originalPrice:p.config.default_price,levelPrice:p.config.discounted_price,discountRate:Math.round((p.config.default_price-p.config.discounted_price)/p.config.default_price*100)},k=n.formatCurrency||(e=>`${e.toLocaleString()}원`),u=n.formatDate||(e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}),v=r().useMemo(()=>(e=>{if(!e)return[];const t=[],a=/<img[^>]+src="([^">]+)"/g;let n;for(;null!==(n=a.exec(e));)n[1]&&!n[1].includes("ProseMirror-separator")&&t.push(n[1]);const i=/!\[.*?\]\((.*?)\)/g;for(;null!==(n=i.exec(e));)n[1]&&t.push(n[1]);return t})(p.description),[p.description]),g=e=>{e<1||(s(e),a.handleQuantityChange?.(e))},E=()=>{a.handleBuyNow?.()},f=r().useMemo(()=>p.reviews||p.recentReviews||[],[p.reviews,p.recentReviews]);return r().useEffect(()=>{const e=()=>{const e=document.querySelector(".pd-skin-product-section");if(e){const t=e.getBoundingClientRect();d(t.bottom<0)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),r().createElement("div",{className:"pd-skin-container"},r().createElement("div",{className:"pd-skin-product-section"},r().createElement("div",{className:"pd-skin-image-area"},r().createElement("img",{src:p.config.img_url||p.config.main_image,alt:p.title,className:"pd-skin-main-image"})),r().createElement("div",{className:"pd-skin-info-area"},r().createElement("h1",{className:"pd-skin-title"},p.title),r().createElement("div",{className:"pd-skin-rating"},r().createElement("span",{className:"pd-skin-stars"},p.averageRating?"★".repeat(Math.floor(p.averageRating))+"☆".repeat(5-Math.floor(p.averageRating)):"☆☆☆☆☆"),r().createElement("span",{className:"pd-skin-rating-count"},p.totalReviews||0,"개 리뷰")),r().createElement("div",{className:"pd-skin-price-area"},m.discountRate>0&&r().createElement("div",{className:"pd-skin-discount-info"},r().createElement("span",{className:"pd-skin-discount-rate"},m.discountRate,"%"),r().createElement("span",{className:"pd-skin-original-price"},k(m.originalPrice))),r().createElement("div",{className:"pd-skin-current-price"},k(m.levelPrice))),p?.optionGroups&&p.optionGroups.length>0&&r().createElement("div",{className:"pd-skin-options-area"},p.optionGroups.map(e=>r().createElement("div",{key:e.id,className:"pd-skin-option-group"},r().createElement("label",{className:"pd-skin-option-label"},e.name," ",e.isRequired&&r().createElement("span",{className:"pd-skin-required"},"*")),r().createElement("select",{className:"pd-skin-option-select",value:t.selectedOptions?.[e.id]||"",onChange:t=>a.handleOptionChange?.(e.id,parseInt(t.target.value))},r().createElement("option",{value:""},"선택하세요"),e.optionValues.map(a=>r().createElement("option",{key:a.id,value:a.id},a.value||a.name,t.variantsByOptions&&(()=>{const n=c(c({},t.selectedOptions||{}),{},{[e.id]:a.id}),i=t.variantsByOptions[Object.values(n).sort().join("-")],s=i?parseInt(i.additionalPrice||"0"):0;return s>0?` (+${k(s)})`:""})()))))),t.selectedVariant&&r().createElement("div",{className:"pd-skin-variant-info"},r().createElement("div",{className:"pd-skin-variant-price"},"선택한 옵션: ",t.selectedVariant.options?.map(e=>`${e.optionValue.optionGroup.name}: ${e.optionValue.value}`).join(", ")),parseInt(t.selectedVariant.additionalPrice||"0")>0&&r().createElement("div",{className:"pd-skin-variant-additional"},"추가금액: ",k(parseInt(t.selectedVariant.additionalPrice))))),r().createElement("div",{className:"pd-skin-delivery-info"},r().createElement("div",{className:"pd-skin-delivery-item"},r().createElement("span",{className:"pd-skin-label"},"배송비"),r().createElement("span",{className:"pd-skin-value"},p.shipping?.fee?k(p.shipping.fee):"3,000원")),r().createElement("div",{className:"pd-skin-delivery-note"},"제주 및 도서 산간 배송비 추가 ",r().createElement("span",{className:"pd-skin-info-icon"},"ⓘ"))),r().createElement("div",{className:"pd-skin-product-name"},p.title),!1!==o.showQuantitySelector&&r().createElement("div",{className:"pd-skin-quantity-area"},r().createElement("button",{className:"pd-skin-quantity-btn",onClick:()=>g(i-1),disabled:i<=1},"-"),r().createElement("span",{className:"pd-skin-quantity-value"},i),r().createElement("button",{className:"pd-skin-quantity-btn",onClick:()=>g(i+1),disabled:t.selectedVariant&&i>=t.selectedVariant.stock},"+"),r().createElement("span",{className:"pd-skin-quantity-price"},k((t.finalPrice||m.levelPrice)*i))),r().createElement("div",{className:"pd-skin-total-area"},r().createElement("span",{className:"pd-skin-total-label"},"총 상품 금액 ",i,"개"),r().createElement("span",{className:"pd-skin-total-price"},k((t.finalPrice||m.levelPrice)*i))),r().createElement("div",{className:"pd-skin-buttons"},!1!==o.showAddToCart&&r().createElement("button",{className:"pd-skin-btn-cart",onClick:()=>{a.handleAddToCart?.()},style:o.addToCartButtonColor?{borderColor:o.addToCartButtonColor,color:o.addToCartButtonColor}:{}},"장바구니"),!1!==o.showBuyNow&&r().createElement("button",{className:"pd-skin-btn-buy",onClick:E,style:o.buyNowButtonColor?{backgroundColor:o.buyNowButtonColor}:{}},"바로구매")))),r().createElement("div",{className:"pd-skin-detail-section"},v.length>0?r().createElement("div",{className:"pd-skin-detail-images"},v.map((e,t)=>r().createElement("img",{key:t,src:e,alt:`상품 상세 이미지 ${t+1}`,className:"pd-skin-detail-image"}))):r().createElement("div",{className:"pd-skin-detail-images"},r().createElement("img",{src:"/images/product-detail.png",alt:"상품 상세 이미지",className:"pd-skin-detail-image"}))),!1!==o.showReviewsTab&&r().createElement("section",{className:"pd-skin-productReviewContainer pd-skin-globalWrapper pd-skin-w-full pd-skin-py-8 pd-skin-md-py-10"},r().createElement("div",{className:"pd-skin-flex pd-skin-items-center pd-skin-gap-3 pd-skin-md-gap-4 pd-skin-font-serif pd-skin-text-2xl pd-skin-mb-3"},r().createElement("h2",null,"리뷰 (",p.totalReviews||f.length,")"),r().createElement("div",{className:"pd-skin-flex pd-skin-items-center pd-skin-gap-1"},r().createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"pd-skin-hover-primary pd-skin-w-24 pd-skin-md-w-27 pd-skin-h-24 pd-skin-md-h-27 pd-skin-text-black pd-skin-hover-black"},r().createElement("path",{d:"M22.991 5.425a1.126 1.126 0 0 1 2.02 0L30.36 16.26c.164.332.481.563.848.616l11.959 1.738a1.126 1.126 0 0 1 .624 1.92l-8.654 8.436a1.127 1.127 0 0 0-.323.997l2.042 11.91a1.126 1.126 0 0 1-1.634 1.187l-10.696-5.623a1.126 1.126 0 0 0-1.048 0l-10.696 5.623a1.126 1.126 0 0 1-1.634-1.187l2.043-11.91a1.126 1.126 0 0 0-.324-.997l-8.654-8.435a1.126 1.126 0 0 1 .625-1.921l11.958-1.738c.367-.053.684-.284.848-.616l5.348-10.836Z",fill:"currentColor"})),r().createElement("p",{className:"pd-skin-md-mt-1"},p.averageRating?p.averageRating.toFixed(1):"0.0"))),r().createElement("div",{className:"pd-skin-reviewList pd-skin-border-t pd-skin-border-black"},r().createElement("div",{className:"pd-skin-py-3"},r().createElement("ul",{className:"pd-skin-flex pd-skin-items-center pd-skin-gap-4"},r().createElement("li",null,r().createElement("input",{type:"radio",id:"sortByRatingDesc",className:"pd-skin-hidden pd-skin-peer",name:"sort",defaultChecked:!0}),r().createElement("label",{htmlFor:"sortByRatingDesc",className:"pd-skin-text-sm pd-skin-cursor-pointer pd-skin-text-black-40 pd-skin-peer-checked-text-black"},"별점 높은순")),r().createElement("li",null,r().createElement("input",{type:"radio",id:"sortByRatingAsc",className:"pd-skin-hidden pd-skin-peer",name:"sort"}),r().createElement("label",{htmlFor:"sortByRatingAsc",className:"pd-skin-text-sm pd-skin-cursor-pointer pd-skin-text-black-40 pd-skin-peer-checked-text-black"},"별점 낮은순")),r().createElement("li",null,r().createElement("input",{type:"radio",id:"sortByLatest",className:"pd-skin-hidden pd-skin-peer",name:"sort"}),r().createElement("label",{htmlFor:"sortByLatest",className:"pd-skin-text-sm pd-skin-cursor-pointer pd-skin-text-black-40 pd-skin-peer-checked-text-black"},"최신순")))),r().createElement("div",{className:"pd-skin-border-t pd-skin-border-black-10"},f.length>0?r().createElement("ul",null,f.map(e=>r().createElement("li",{key:e.id,className:"pd-skin-reviewItem pd-skin-opacity-0"},r().createElement("div",{className:"pd-skin-flex pd-skin-items-center pd-skin-gap-4 pd-skin-py-4 pd-skin-border-b pd-skin-border-black-10"},r().createElement("div",{className:"pd-skin-w-50 pd-skin-md-w-70 pd-skin-h-50 pd-skin-md-h-70 pd-skin-shrink-0"},r().createElement("a",{href:"#","data-discover":"true"},r().createElement("img",{src:p.config.img_url,alt:p.title,className:"pd-skin-w-full pd-skin-h-full pd-skin-object-cover"}))),r().createElement("div",{className:"pd-skin-space-y-1 pd-skin-md-space-y-2"},r().createElement("h3",{className:"pd-skin-text-sm pd-skin-font-bold"},p.title),r().createElement("p",{className:"pd-skin-text-sm pd-skin-text-black-60"},"옵션 : 내추럴"))),r().createElement("div",{className:"pd-skin-py-4 pd-skin-border-b pd-skin-border-black-10"},r().createElement("div",null),r().createElement("div",{className:"pd-skin-flex pd-skin-items-center pd-skin-justify-between pd-skin-my-2"},r().createElement("div",{className:"pd-skin-flex pd-skin-items-center pd-skin-gap-2"},r().createElement("div",{className:"pd-skin-flex pd-skin-items-center"},[1,2,3,4,5].map(t=>r().createElement("svg",{key:t,width:"20px",height:"20px",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"pd-skin-hover-primary pd-skin-w-14 pd-skin-md-w-auto pd-skin-h-14 pd-skin-md-h-auto "+(t<=e.rating?"pd-skin-text-black pd-skin-hover-black":"pd-skin-text-black-20 pd-skin-hover-black-20")},r().createElement("path",{d:"M22.991 5.425a1.126 1.126 0 0 1 2.02 0L30.36 16.26c.164.332.481.563.848.616l11.959 1.738a1.126 1.126 0 0 1 .624 1.92l-8.654 8.436a1.127 1.127 0 0 0-.323.997l2.042 11.91a1.126 1.126 0 0 1-1.634 1.187l-10.696-5.623a1.126 1.126 0 0 0-1.048 0l-10.696 5.623a1.126 1.126 0 0 1-1.634-1.187l2.043-11.91a1.126 1.126 0 0 0-.324-.997l-8.654-8.435a1.126 1.126 0 0 1 .625-1.921l11.958-1.738c.367-.053.684-.284.848-.616l5.348-10.836Z",fill:"currentColor"})))),r().createElement("p",{className:"pd-skin-text-sm pd-skin-text-black-80"},(e=>{if(!e||e.length<=2)return e;const t=e.substring(0,Math.ceil(e.length/2));return t+"*".repeat(e.length-t.length)})(e.author||e.userName))),r().createElement("p",{className:"pd-skin-text-xs pd-skin-text-black-80"},u(e.date||e.createdAt||new Date))),r().createElement("div",{className:"pd-skin-flex pd-skin-items-start pd-skin-pt-1 pd-skin-md-pt-3 pd-skin-mb-2 pd-skin-gap-4 pd-skin-transition-all pd-skin-duration-300 "+(e.images&&e.images.length>0?"pd-skin-justify-between":"")},r().createElement("p",{className:"pd-skin-text-sm"},e.content),e.images&&e.images.length>0&&r().createElement("button",{className:"pd-skin-object-cover pd-skin-transition-opacity pd-skin-duration-300 pd-skin-hover-opacity-80 pd-skin-aspect-1 pd-skin-w-75 pd-skin-md-w-94 pd-skin-h-75 pd-skin-md-h-94",type:"button"},r().createElement("img",{src:e.images[0],alt:p.title,className:"pd-skin-w-full pd-skin-h-full pd-skin-object-cover"}))))))):r().createElement("div",{className:"pd-skin-empty-reviews"},"아직 작성된 리뷰가 없습니다.")))),l&&r().createElement("div",{className:"pd-skin-sticky-bar"},r().createElement("div",{className:"pd-skin-sticky-content"},r().createElement("div",{className:"pd-skin-sticky-info"},r().createElement("img",{src:p.config.img_url,alt:p.title,className:"pd-skin-sticky-image"}),r().createElement("div",{className:"pd-skin-sticky-details"},r().createElement("div",{className:"pd-skin-sticky-title"},p.title),r().createElement("div",{className:"pd-skin-sticky-price"},m.discountRate>0&&r().createElement("span",{className:"pd-skin-sticky-discount"},m.discountRate,"%"),r().createElement("span",{className:"pd-skin-sticky-current-price"},k(m.levelPrice)),m.discountRate>0&&r().createElement("span",{className:"pd-skin-sticky-original-price"},k(m.originalPrice))))),r().createElement("button",{className:"pd-skin-sticky-buy-btn",onClick:E},"구매하기"))))};return i=i.default})());