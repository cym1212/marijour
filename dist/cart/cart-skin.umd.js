!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["cart-skin"]=t(require("react")):e["cart-skin"]=t(e.React)}(this,e=>(()=>{"use strict";var t={12:t=>{t.exports=e}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var c=a[e]={exports:{}};return t[e](c,c.exports,r),c.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};r.d(n,{default:()=>d});var c=r(12),i=r.n(c);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){o(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function o(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const m=[{id:1,productId:1,count:2,variantId:null,variant:null,options:null,product:{id:1,title:"레고트 누프레임 커플잔 2P",config:{img_url:"https://via.placeholder.com/300x300/f0f0f0/666?text=Product+1",default_price:4e4,discounted_price:32e3,stock_count:10},optionJson:{level2_price:{VIP:3e4,GOLD:32e3,SILVER:34e3}}}},{id:2,productId:2,count:1,variantId:null,variant:null,options:null,product:{id:2,title:"모던 스톤웨어 접시 세트",config:{img_url:"https://via.placeholder.com/300x300/f0f0f0/666?text=Product+2",default_price:3e4,discounted_price:25500,stock_count:5},optionJson:{level2_price:{VIP:24e3,GOLD:25500,SILVER:27e3}}}},{id:3,productId:3,count:1,variantId:null,variant:null,options:null,product:{id:3,title:"에코 우드 컵 4P 세트",config:{img_url:"https://via.placeholder.com/300x300/f0f0f0/666?text=Product+3",default_price:2e4,discounted_price:18e3,stock_count:8},optionJson:{level2_price:{VIP:16e3,GOLD:18e3,SILVER:19e3}}}}],k=({data:e,actions:t,options:a,mode:r,utils:n,app:c,editor:s})=>{const{cartItems:o=[],loading:k=!1,calculations:d={subtotal:0,shippingFee:0,total:0},localQuantities:p={},freeShippingLimit:u=5e4,user:f={level:"GOLD",levelName:"골드"},isUserLoggedIn:b=!1,isAdminMode:v=!1,theme:x={}}=e||{},g=o.filter(e=>e&&"object"==typeof e?e.id?!(!e.product||"object"!=typeof e.product)||(console.warn("Cart item missing product data:",e),!1):(console.warn("Cart item missing id:",e),!1):(console.warn("Invalid cart item (not an object):",e),!1)),{handleIncreaseQuantity:h=()=>{},handleDecreaseQuantity:y=()=>{},handleRemoveFromCart:E=()=>Promise.resolve(),handleCheckout:w=()=>{},handleClearCart:N=()=>Promise.resolve(),calculateLevelPrice:P=(e,t)=>{if(!t||"number"!=typeof e)return console.warn("Invalid params for price calculation:",{basePrice:e,product:t}),{originalPrice:e||0,levelPrice:e||0,discount:0,discountRate:0,levelName:null};const a=(t.optionJson?.level2_price||{})[f?.level||"GOLD"]||e,r=Math.max(0,e-a);return{originalPrice:e,levelPrice:a,discount:r,discountRate:e>0?Math.round(r/e*100):0,levelName:f?.levelName||null}}}=t||{},{t:j=e=>e,formatCurrency:C=e=>`${e.toLocaleString()}원`,cx:O=(...e)=>e.filter(Boolean).join(" ")}=n||{},{title:_="장바구니",emptyText:I="장바구니가 비어 있습니다.",showImage:R=!0,showQuantitySelector:S=!0,showRemoveButton:L=!0,primaryButtonColor:D="#007bff",priceColor:M="#ff6b6b"}=a||{},V=v&&0===g.length?m:g,q=v&&0===o.length?{subtotal:13e4,shippingFee:3e3,total:133e3}:d,B=v&&0===g.length?m.reduce((e,t)=>l(l({},e),{},{[String(t.id)]:t.count}),{}):p,[F,G]=i().useState({});i().useEffect(()=>{B&&Object.keys(B).length>0&&G(B)},[B]);const Q=q.subtotal>=u,Z=Math.max(0,u-q.subtotal);return 0===V.length?i().createElement("div",{className:"cart-skin-cartContainer"},i().createElement("section",{className:"cart-skin-globalWrapper cart-skin-w-full cart-skin-pt-8 cart-skin-md-py-10 cart-skin-flex cart-skin-flex-col cart-skin-items-center cart-skin-justify-center cart-skin-min-h-400"},i().createElement("h2",{className:"cart-skin-text-3xl cart-skin-font-serif cart-skin-mb-4"},_),i().createElement("p",{className:"cart-skin-text-black-60 cart-skin-mb-8"},I),i().createElement("button",{type:"button",className:"cart-skin-flex cart-skin-items-center cart-skin-justify-center cart-skin-border cart-skin-hover-bg-primary-90 cart-skin-transition-colors cart-skin-bg-primary cart-skin-text-white cart-skin-border-primary cart-skin-hover-bg-primary-80 cart-skin-px-6 cart-skin-py-3",onClick:()=>n.navigate("/products"),style:{backgroundColor:D}},"쇼핑 계속하기"))):i().createElement("div",{className:"cart-skin-cartContainer"},i().createElement("section",{className:"cart-skin-globalWrapper cart-skin-w-full cart-skin-pt-8 cart-skin-md-py-10 cart-skin-flex cart-skin-flex-col cart-skin-md-flex-row cart-skin-gap-10 cart-skin-items-center cart-skin-justify-between cart-skin-mb-5 cart-skin-md-mb-10"},i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-gap-3 cart-skin-font-serif"},i().createElement("h2",{className:"cart-skin-text-3xl"},_),i().createElement("p",{className:"cart-skin-text-primary cart-skin-text-4xl"},V.length)),i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-gap-3"},i().createElement("p",{className:"cart-skin-text-primary cart-skin-font-bold"},"장바구니"),i().createElement("span",null,i().createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"cart-skin-hover-primary cart-skin-w-16 cart-skin-h-16 cart-skin-text-black-40 cart-skin-hover-black-40",style:{transform:"rotate(90deg)"}},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.028 6.414a1 1 0 0 1 1.415 0l6.292 6.293a.75.75 0 0 1-1.06 1.06l-5.94-5.939-5.939 5.94a.75.75 0 1 1-1.06-1.061l6.292-6.293Z",fill:"currentColor"}))),i().createElement("p",{className:"cart-skin-text-black-40"},"주문서 작성"),i().createElement("span",null,i().createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"cart-skin-hover-primary cart-skin-w-16 cart-skin-h-16 cart-skin-text-black-40 cart-skin-hover-black-40",style:{transform:"rotate(90deg)"}},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.028 6.414a1 1 0 0 1 1.415 0l6.292 6.293a.75.75 0 0 1-1.06 1.06l-5.94-5.939-5.939 5.94a.75.75 0 1 1-1.06-1.061l6.292-6.293Z",fill:"currentColor"}))),i().createElement("p",{className:"cart-skin-text-black-40"},"주문 완료"))),i().createElement("section",{className:"cart-skin-globalWrapper cart-skin-mb-20 cart-skin-relative cart-skin-flex cart-skin-flex-col cart-skin-md-flex-row cart-skin-items-start cart-skin-justify-between cart-skin-gap-5"},i().createElement("div",{className:"cart-skin-flex-1 cart-skin-w-full cart-skin-border-t cart-skin-border-black"},i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-justify-between cart-skin-py-4 cart-skin-gap-4"},i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-gap-2"},i().createElement("span",{className:"cart-skin-text-sm cart-skin-font-bold"},"상품 목록 (",V.length,"개)")),i().createElement("button",{type:"button","aria-label":"장바구니 비우기",className:"cart-skin-text-sm cart-skin-underline cart-skin-hover-black-80 cart-skin-shrink-0",onClick:()=>{"function"==typeof N?N():console.warn("handleClearCart action not provided")}},"전체 삭제")),i().createElement("div",{className:"cart-skin-border-t cart-skin-border-black-10"},i().createElement("ul",null,V.map((e,t)=>{if(!e||!e.id)return console.error("Invalid cart item:",e),null;const a=String(e.id),r=B[e.id]||F[a]||e.count||1,n=(e=>{const t=e.product?.config?.discounted_price||e.product?.config?.default_price||0,a=P(t,e.product),r=e.variant?parseInt(e.variant.additionalPrice||"0"):0;return l(l({},a),{},{levelPrice:a.levelPrice+r,originalPrice:a.originalPrice+r,additionalPrice:r})})(e),c=n.levelPrice*r;return i().createElement("li",{key:a,className:"cart-skin-flex cart-skin-gap-4 cart-skin-py-5 cart-skin-border-b cart-skin-border-black-10"},R&&i().createElement("div",{className:"cart-skin-w-75 cart-skin-md-w-120 cart-skin-h-75 cart-skin-md-h-120 cart-skin-aspect-square cart-skin-shrink-0"},i().createElement("a",{href:`/products/${e.productId}`,"data-discover":"true"},i().createElement("img",{alt:e.product.title,className:"cart-skin-w-full cart-skin-h-full cart-skin-object-cover",src:e.product.config?.img_url||"/images/product-placeholder.png",onError:e=>{e.target.src="/images/product-placeholder.png"}}))),i().createElement("div",{className:"cart-skin-flex-1 cart-skin-flex cart-skin-flex-col cart-skin-justify-between cart-skin-gap-2 cart-skin-md-gap-4"},i().createElement("div",{className:"cart-skin-flex cart-skin-items-start cart-skin-justify-between"},i().createElement("div",null,i().createElement("h3",{className:"cart-skin-text-sm cart-skin-font-bold cart-skin-mb-2 cart-skin-line-clamp-1 cart-skin-md-line-clamp-2"},e.product.title),n.discount>0&&n.levelName&&i().createElement("div",{className:"cart-skin-text-xs cart-skin-text-primary cart-skin-mb-2"},n.levelName," 할인 적용"),e.variant?.options&&i().createElement("div",{className:"cart-skin-text-xs cart-skin-text-black-60 cart-skin-mb-2"},e.variant.options.map(e=>i().createElement("span",{key:e.optionValueId,className:"cart-skin-mr-2"},e.optionValue.optionGroup.name,": ",e.optionValue.value))),i().createElement("div",{className:"cart-skin-flex cart-skin-flex-wrap cart-skin-items-center cart-skin-gap-1-5"},n.discount>0&&n.levelName?i().createElement(i().Fragment,null,i().createElement("em",{className:"cart-skin-text-xs cart-skin-text-primary cart-skin-font-bold cart-skin-bg-primary-10 cart-skin-px-1 cart-skin-py-0-5 cart-skin-rounded"},n.discountRate,"%"),i().createElement("p",{className:"cart-skin-font-bold"},C(n.levelPrice-(n.additionalPrice||0)),n.additionalPrice&&n.additionalPrice>0&&i().createElement("span",{className:"cart-skin-text-xs cart-skin-text-black-60"},"(+",C(n.additionalPrice),")")),i().createElement("del",{className:"cart-skin-text-sm cart-skin-font-bold cart-skin-text-black-40 cart-skin-w-full cart-skin-md-w-auto cart-skin-mt-neg-0-5 cart-skin-md-mt-0"},C(n.originalPrice-(n.additionalPrice||0)))):i().createElement("p",{className:"cart-skin-font-bold"},C(n.levelPrice-(n.additionalPrice||0)),n.additionalPrice&&n.additionalPrice>0&&i().createElement("span",{className:"cart-skin-text-xs cart-skin-text-black-60"},"(+",C(n.additionalPrice),")")))),L&&i().createElement("button",{type:"button","aria-label":"상품 삭제",className:"cart-skin-p-2",onClick:()=>{"function"==typeof E?E(e.id):console.warn("handleRemoveFromCart action not provided")}},i().createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"cart-skin-hover-primary"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 8.939 6.11 5.05a.75.75 0 0 0-1.06 1.06L8.938 10 5.05 13.889a.75.75 0 0 0 1.06 1.06l8.84-8.838a.75.75 0 0 0-1.061-1.061L9.999 8.939Zm3.888 6.014-3.889-3.89 1.06-1.06 3.89 3.889a.75.75 0 0 1-1.061 1.06Z",fill:"currentColor"})))),i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-justify-between"},S?i().createElement("div",{className:"cart-skin-quantity-container"},i().createElement("button",{className:"cart-skin-quantity-button",type:"button",onClick:()=>(e=>{try{const t=String(e.id),a=F[t]||e.count||1;if(a<=1)return;const r=a-1;G(e=>l(l({},e),{},{[t]:r})),"function"==typeof y?y(e):console.warn("handleDecreaseQuantity action not provided")}catch(e){console.error("Error decreasing quantity:",e)}})(e),disabled:r<=1},i().createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 21 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"cart-skin-w-12 cart-skin-h-12 cart-skin-text-black"},i().createElement("rect",{x:"2.25",y:"10.75",width:"1.5",height:"16",rx:"0.75",transform:"rotate(-90 2.25 10.75)",fill:"currentColor"}))),i().createElement("input",{readOnly:!0,className:"cart-skin-quantity-input",value:r}),i().createElement("button",{className:"cart-skin-quantity-button",type:"button",onClick:()=>(e=>{try{const t=String(e.id),a=(F[t]||e.count||1)+1;G(e=>l(l({},e),{},{[t]:a})),"function"==typeof h?h(e):console.warn("handleIncreaseQuantity action not provided")}catch(e){console.error("Error increasing quantity:",e)}})(e),disabled:e.product?.config?.stock_count&&r>=e.product.config.stock_count},i().createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"cart-skin-w-12 cart-skin-h-12"},i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.238 2.75c.394 0 .714.336.714.75v5.75h5.476c.395 0 .714.336.714.75s-.32.75-.714.75h-5.476v5.75c0 .414-.32.75-.714.75-.395 0-.715-.336-.715-.75v-5.75H4.047c-.394 0-.714-.336-.714-.75s.32-.75.714-.75h5.476V3.5c0-.414.32-.75.715-.75Z",fill:"currentColor"})))):i().createElement("span",{className:"cart-skin-text-sm"},"수량: ",r),i().createElement("p",{className:"cart-skin-font-bold"},C(c)))))})),i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-justify-center cart-skin-p-4 cart-skin-bg-black-3 cart-skin-font-bold cart-skin-gap-1 cart-skin-text-xs"},i().createElement("p",null,"상품 금액 : ",C(q.subtotal)),i().createElement("p",null,"/"),i().createElement("p",null,"배송비 : ",Q?"무료":C(q.shippingFee)),!Q&&Z>0&&i().createElement("p",{className:"cart-skin-text-primary"},"(주문 ",C(Z)," 더 추가시 무료배송)")))),i().createElement("div",{className:"cart-skin-w-full cart-skin-md-w-360 cart-skin-md-shrink-0 cart-skin-md-sticky cart-skin-md-top-60"},i().createElement("div",{className:"cart-skin-cartSummary cart-skin-bg-black-3 cart-skin-p-5 cart-skin-border cart-skin-border-black-10"},i().createElement("h3",{className:"cart-skin-font-bold cart-skin-text-lg cart-skin-mb-4"},"주문 정보"),i().createElement("div",{className:"cart-skin-space-y-3"},i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-justify-between"},i().createElement("span",{className:"cart-skin-text-sm"},"총 상품 금액"),i().createElement("span",{className:"cart-skin-text-sm"},C(q.subtotal))),i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-justify-between"},i().createElement("span",{className:"cart-skin-text-sm"},"배송비"),i().createElement("span",{className:"cart-skin-text-sm"},C(q.shippingFee))),i().createElement("div",{className:"cart-skin-totalPrice cart-skin-border-t cart-skin-border-black-10 cart-skin-pt-3"},i().createElement("div",{className:"cart-skin-flex cart-skin-items-center cart-skin-justify-between"},i().createElement("span",{className:"cart-skin-font-bold"},"총 결제 금액"),i().createElement("span",{className:"cart-skin-font-bold cart-skin-text-lg",style:{color:M}},C(q.total))))),i().createElement("div",{className:"cart-skin-mt-5"},i().createElement("button",{type:"button",className:"cart-skin-flex cart-skin-items-center cart-skin-justify-center cart-skin-border cart-skin-hover-bg-primary-90 cart-skin-transition-colors cart-skin-bg-primary cart-skin-text-white cart-skin-border-primary cart-skin-hover-bg-primary-80 cart-skin-w-full cart-skin-px-4-5 cart-skin-py-3-5",onClick:()=>{"function"==typeof w?w():console.warn("handleCheckout action not provided")},disabled:0===V.length||k,style:{backgroundColor:D}},k?"처리중...":"주문하기"))))))};k.SAMPLE_DATA=m;const d=k;return n=n.default})());