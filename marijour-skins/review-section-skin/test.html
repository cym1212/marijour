<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Review Section Skin Test</title>
  <link rel="stylesheet" href="./dist/review-section-skin.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background-color: #f5f5f5;
    }
    .test-header {
      background: white;
      padding: 20px;
      border-bottom: 1px solid #e0e0e0;
      margin-bottom: 20px;
    }
    .test-header h1 {
      margin: 0;
      font-size: 24px;
    }
    .scenario-title {
      margin: 40px 20px 20px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
    }
    .component-wrapper {
      background: white;
      margin: 20px;
      padding: 40px;
      border: 1px solid #e0e0e0;
    }
  </style>
</head>
<body>
  <div class="test-header">
    <h1>Review Section Skin Component Test</h1>
  </div>

  <div class="scenario-title">시나리오 1: 전체 기능 리뷰 섹션 (통계, 필터, 리뷰 목록)</div>
  <div class="component-wrapper">
    <div id="review-section-full"></div>
  </div>

  <div class="scenario-title">시나리오 2: 리뷰 작성 폼 표시</div>
  <div class="component-wrapper">
    <div id="review-section-form"></div>
  </div>

  <div class="scenario-title">시나리오 3: 빈 상태 (리뷰 없음)</div>
  <div class="component-wrapper">
    <div id="review-section-empty"></div>
  </div>

  <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
  <script src="./dist/review-section-skin.js"></script>
  
  <script>
    // 테스트 데이터
    const mockReviews = [
      {
        id: 1,
        productName: '프리미엄 화이트 셔츠',
        productImage: 'https://via.placeholder.com/50',
        rating: 5,
        content: '품질이 정말 좋아요! 원단도 부드럽고 핏도 예쁩니다. 사이즈도 정사이즈로 딱 맞네요. 다른 색상도 구매할 예정입니다.',
        images: [
          'https://via.placeholder.com/300x300',
          'https://via.placeholder.com/300x300',
          'https://via.placeholder.com/300x300'
        ],
        writer: '김민수',
        createdAt: '2024-01-15',
        isBest: true,
        helpfulCount: 24
      },
      {
        id: 2,
        rating: 4,
        content: '전체적으로 만족스러워요. 다만 배송이 조금 늦었어요.',
        writer: '이영희',
        createdAt: '2024-01-10',
        helpfulCount: 5
      },
      {
        id: 3,
        rating: 5,
        content: '재구매 의사 100%입니다. 가격대비 품질이 훌륭해요.',
        images: ['https://via.placeholder.com/300x300'],
        writer: '박지훈',
        createdAt: '2024-01-08',
        helpfulCount: 12
      },
      {
        id: 4,
        rating: 3,
        content: '색상은 예쁜데 사이즈가 좀 작게 나온 것 같아요. 한 사이즈 크게 주문하시는 걸 추천합니다.',
        writer: '최서연',
        createdAt: '2024-01-05'
      },
      {
        id: 5,
        rating: 5,
        content: '완전 만족! 소재도 좋고 디자인도 깔끔해요.',
        writer: '정우성',
        createdAt: '2024-01-03',
        helpfulCount: 8
      }
    ];

    const fullReviewData = {
      reviews: mockReviews,
      statistics: {
        totalCount: 156,
        averageRating: 4.5,
        ratingDistribution: {
          5: 98,
          4: 35,
          3: 15,
          2: 5,
          1: 3
        }
      },
      currentFilter: { sortBy: 'latest' },
      currentPage: 1,
      totalPages: 32,
      showStatistics: true,
      showFilter: true,
      showWriteForm: true,
      showProductInfo: true
    };

    const formReviewData = {
      reviews: [],
      showStatistics: false,
      showFilter: false,
      showWriteForm: true
    };

    const emptyReviewData = {
      reviews: [],
      showStatistics: false,
      showFilter: false,
      showWriteForm: true,
      emptyMessage: '첫 번째 리뷰를 작성해보세요!'
    };

    // Mock actions
    const mockActions = {
      onFilterChange: (filter) => {
        console.log('Filter changed:', filter);
      },
      onPageChange: (page) => {
        console.log('Page changed:', page);
        alert(`${page} 페이지로 이동`);
      },
      onReviewSubmit: async (data) => {
        console.log('Review submitted:', data);
        alert(`리뷰가 등록되었습니다.\n별점: ${data.rating}점\n내용: ${data.content}\n이미지: ${data.images?.length || 0}개`);
      },
      onReviewDelete: (id) => {
        console.log('Delete review:', id);
        if (confirm('리뷰를 삭제하시겠습니까?')) {
          alert('리뷰가 삭제되었습니다.');
        }
      },
      onReviewReport: (id) => {
        console.log('Report review:', id);
        if (confirm('이 리뷰를 신고하시겠습니까?')) {
          alert('신고가 접수되었습니다.');
        }
      },
      onImageClick: (images, index) => {
        console.log('Image clicked:', images, index);
        alert(`이미지 ${index + 1}/${images.length} 클릭됨`);
      },
      onHelpfulClick: (id) => {
        console.log('Helpful clicked:', id);
        alert('도움이 돼요!');
      }
    };

    // Mock options
    const mockOptions = {
      dateFormat: 'YYYY.MM.DD',
      showProductInfo: true,
      showBestBadge: true,
      showHelpfulButton: true,
      maskedWriterName: true,
      submitButtonText: '리뷰 등록하기',
      cancelButtonText: '취소',
      writeButtonText: '리뷰 작성하기',
      filterLabels: {
        latest: '최신순',
        rating_high: '평점 높은순',
        rating_low: '평점 낮은순',
        helpful: '도움 많은순'
      }
    };

    // 컴포넌트 렌더링
    const ReviewSectionSkin = window.ReviewSectionSkin.default;

    // 전체 기능 리뷰 섹션
    ReactDOM.render(
      React.createElement(ReviewSectionSkin, {
        data: fullReviewData,
        actions: mockActions,
        options: mockOptions
      }),
      document.getElementById('review-section-full')
    );

    // 리뷰 작성 폼
    ReactDOM.render(
      React.createElement(ReviewSectionSkin, {
        data: formReviewData,
        actions: mockActions,
        options: mockOptions
      }),
      document.getElementById('review-section-form')
    );

    // 빈 상태
    ReactDOM.render(
      React.createElement(ReviewSectionSkin, {
        data: emptyReviewData,
        actions: mockActions,
        options: mockOptions
      }),
      document.getElementById('review-section-empty')
    );
  </script>
</body>
</html>