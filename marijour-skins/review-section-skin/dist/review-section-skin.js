/*! For license information please see review-section-skin.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.ReviewSectionSkin=t(require("react")):e.ReviewSectionSkin=t(e.React)}(this,e=>(()=>{"use strict";var t={156:t=>{t.exports=e}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};r.r(a),r.d(a,{default:()=>F});var o=r(156),i=r.n(o),c=function(e){var t=e.rating;return i().createElement("div",{className:"star-rating"},[1,2,3,4,5].map(function(e){return i().createElement("svg",{key:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:e<=t?"currentColor":"none",stroke:"currentColor",strokeWidth:"1",className:e<=t?"filled":"empty"},i().createElement("path",{d:"M8 1.5L10.163 5.692L15 6.5L11.5 10L12.326 14.5L8 12.192L3.674 14.5L4.5 10L1 6.5L5.837 5.692L8 1.5Z"}))}))},l=function(e){var t,n=e.review,r=e.showProductInfo,a=e.showBestBadge,o=e.showHelpfulButton,l=e.maskedWriterName,u=(e.dateFormat,e.isExpanded),s=e.onImageExpand,m=e.onImageClick,f=e.onHelpfulClick,p=e.onDelete,v=e.onReport;return i().createElement("div",{className:"review-item"},r&&n.productName&&i().createElement("div",{className:"review-product-info"},n.productImage&&i().createElement("img",{src:n.productImage,alt:n.productName,className:"product-thumbnail"}),i().createElement("span",{className:"product-name"},n.productName)),i().createElement("div",{className:"review-header"},i().createElement("div",{className:"review-rating-info"},i().createElement(c,{rating:n.rating}),a&&n.isBest&&i().createElement("span",{className:"best-badge"},"BEST")),i().createElement("div",{className:"review-meta"},i().createElement("span",{className:"review-writer"},(t=n.writer,l?t.length<=2?t[0]+"*":t[0]+"*".repeat(t.length-2)+t[t.length-1]:t)),i().createElement("span",{className:"review-date"},n.createdAt.replace(/-/g,".")))),i().createElement("div",{className:"review-content"},i().createElement("p",null,n.content)),n.images&&n.images.length>0&&i().createElement("div",{className:"review-images ".concat(u?"expanded":"")},n.images.map(function(e,t){return i().createElement("img",{key:t,src:e,alt:"리뷰 이미지 ".concat(t+1),className:"review-image",onClick:function(){return m(n.images,t)}})}),n.images.length>1&&i().createElement("button",{className:"expand-button",onClick:s},u?"접기":"사진 ".concat(n.images.length,"개 모두 보기"))),i().createElement("div",{className:"review-actions"},o&&i().createElement("button",{className:"helpful-button",onClick:f},i().createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},i().createElement("path",{d:"M7 1V9M7 9L10 6M7 9L4 6M1 13H13"})),"도움이 돼요 ",n.helpfulCount?"(".concat(n.helpfulCount,")"):""),i().createElement("div",{className:"review-menu"},p&&i().createElement("button",{className:"menu-button",onClick:p},"삭제"),v&&i().createElement("button",{className:"menu-button",onClick:v},"신고"))))},u=function(e){var t=e.reviews,n=e.showProductInfo,r=e.showBestBadge,a=e.showHelpfulButton,o=e.maskedWriterName,c=e.dateFormat,u=e.expandedImages,s=e.onImageExpand,m=e.onImageClick,f=e.onHelpfulClick,p=e.onDelete,v=e.onReport;return i().createElement("div",{className:"review-list"},t.map(function(e){return i().createElement(l,{key:e.id,review:e,showProductInfo:n,showBestBadge:r,showHelpfulButton:a,maskedWriterName:o,dateFormat:c,isExpanded:u[e.id.toString()],onImageExpand:function(){return s(e.id.toString())},onImageClick:m,onHelpfulClick:function(){return f(e.id)},onDelete:p?function(){return p(e.id)}:void 0,onReport:v?function(){return v(e.id)}:void 0})}))};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t=e.currentFilter,n=e.onChange,r=e.labels,a=[{value:"latest",label:r.latest||"최신순"},{value:"rating_high",label:r.rating_high||"별점 높은순"},{value:"rating_low",label:r.rating_low||"별점 낮은순"},{value:"helpful",label:r.helpful||"도움순"}],o=function(e){var r=f({},t);null===e?delete r.rating:r.rating=e,n(r)},c=function(e){var r=f({},t);null===e?delete r.hasImage:r.hasImage=e,n(r)};return i().createElement("div",{className:"review-filter"},i().createElement("div",{className:"filter-section"},i().createElement("h4",{className:"filter-title"},"정렬"),i().createElement("div",{className:"sort-options"},a.map(function(e){return i().createElement("label",{key:e.value,className:"radio-label"},i().createElement("input",{type:"radio",name:"sort",value:e.value,checked:t.sortBy===e.value,onChange:function(){return r=e.value,void n(f(f({},t),{},{sortBy:r}));var r}}),i().createElement("span",null,e.label))}))),i().createElement("div",{className:"filter-section"},i().createElement("h4",{className:"filter-title"},"별점"),i().createElement("div",{className:"rating-filter"},i().createElement("button",{className:"filter-button ".concat(t.rating?"":"active"),onClick:function(){return o(null)}},"전체"),[5,4,3,2,1].map(function(e){return i().createElement("button",{key:e,className:"filter-button ".concat(t.rating===e?"active":""),onClick:function(){return o(e)}},e,"점")}))),i().createElement("div",{className:"filter-section"},i().createElement("h4",{className:"filter-title"},"사진"),i().createElement("div",{className:"image-filter"},i().createElement("button",{className:"filter-button ".concat(void 0===t.hasImage?"active":""),onClick:function(){return c(null)}},"전체"),i().createElement("button",{className:"filter-button ".concat(!0===t.hasImage?"active":""),onClick:function(){return c(!0)}},"사진 있음"),i().createElement("button",{className:"filter-button ".concat(!1===t.hasImage?"active":""),onClick:function(){return c(!1)}},"사진 없음"))))};function d(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof c?r:c,u=Object.create(l.prototype);return g(u,"_invoke",function(n,r,a){var o,c,l,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,l=e,f.n=n,i}};function p(n,r){for(c=n,l=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],p=f.p,v=o[2];n>3?(a=v===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,f.v=r,f.n=o[1]):p<v&&(a=n<3||o[0]>r||r>v)&&(o[4]=n,o[5]=r,f.n=v,c=0))}if(a||n>1)return i;throw m=!0,r}return function(a,s,v){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&p(s,v),c=s,l=v;(t=c<2?e:l)||!m;){o||(c?c<3?(c>1&&(f.n=-1),p(c,l)):f.n=l:f.v=l);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(g(t={},r,function(){return this}),t),m=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,g(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=u,g(m,"constructor",u),g(u,"constructor",l),l.displayName="GeneratorFunction",g(u,a,"GeneratorFunction"),g(m),g(m,a,"Generator"),g(m,r,function(){return this}),g(m,"toString",function(){return"[object Generator]"}),(d=function(){return{w:o,m:f}})()}function g(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}g=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){g(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},g(e,t,n,r)}function b(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.rating,n=e.onChange,r=h((0,o.useState)(0),2),a=r[0],c=r[1];return i().createElement("div",{className:"star-rating-input"},[1,2,3,4,5].map(function(e){return i().createElement("button",{key:e,type:"button",className:"star-button",onMouseEnter:function(){return c(e)},onMouseLeave:function(){return c(0)},onClick:function(){return n(e)}},i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:e<=(a||t)?"currentColor":"none",stroke:"currentColor",strokeWidth:"1.5",className:e<=(a||t)?"filled":"empty"},i().createElement("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})))}),i().createElement("span",{className:"rating-text"},t>0?"".concat(t,"점"):"별점을 선택해주세요"))},k=function(e){var t=e.onSubmit,n=e.onCancel,r=e.allowImageUpload,a=void 0===r||r,c=e.maxImageCount,l=void 0===c?5:c,u=e.minContentLength,s=void 0===u?10:u,m=e.maxContentLength,f=void 0===m?500:m,p=e.submitButtonText,v=void 0===p?"리뷰 등록":p,g=e.cancelButtonText,E=void 0===g?"취소":g,w=h((0,o.useState)(0),2),k=w[0],S=w[1],O=h((0,o.useState)(""),2),C=O[0],j=O[1],L=h((0,o.useState)([]),2),x=L[0],P=L[1],I=h((0,o.useState)([]),2),B=I[0],M=I[1],T=h((0,o.useState)(!1),2),A=T[0],R=T[1],_=h((0,o.useState)({}),2),F=_[0],D=_[1],H=(0,o.useRef)(null),G=function(){var e={};return 0===k&&(e.rating="별점을 선택해주세요."),C.length<s?e.content="리뷰는 최소 ".concat(s,"자 이상 작성해주세요."):C.length>f&&(e.content="리뷰는 최대 ".concat(f,"자까지 작성 가능합니다.")),D(e),0===Object.keys(e).length},U=function(){var e,n=(e=d().m(function e(n){var r;return d().w(function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),G()){e.n=1;break}return e.a(2);case 1:return R(!0),e.p=2,e.n=3,t({rating:k,content:C,images:x});case 3:S(0),j(""),P([]),B.forEach(function(e){return URL.revokeObjectURL(e)}),M([]),e.n=5;break;case 4:e.p=4,r=e.v,console.error("리뷰 등록 실패:",r),alert("리뷰 등록에 실패했습니다. 다시 시도해주세요.");case 5:return e.p=5,R(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){b(o,r,a,i,c,"next",e)}function c(e){b(o,r,a,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}();return i().createElement("form",{className:"review-form",onSubmit:U},i().createElement("div",{className:"form-group"},i().createElement("label",{className:"form-label"},"별점"),i().createElement(N,{rating:k,onChange:S}),F.rating&&i().createElement("span",{className:"error-message"},F.rating)),i().createElement("div",{className:"form-group"},i().createElement("label",{className:"form-label"},"리뷰 내용"),i().createElement("textarea",{className:"form-textarea",value:C,onChange:function(e){return j(e.target.value)},placeholder:"상품에 대한 솔직한 리뷰를 ".concat(s,"자 이상 작성해주세요."),rows:5}),i().createElement("div",{className:"content-info"},i().createElement("span",{className:C.length<s||C.length>f?"error":""},C.length," / ",f)),F.content&&i().createElement("span",{className:"error-message"},F.content)),a&&i().createElement("div",{className:"form-group"},i().createElement("label",{className:"form-label"},"사진 첨부 (선택)"),i().createElement("div",{className:"image-upload-area"},B.map(function(e,t){return i().createElement("div",{key:t,className:"image-preview"},i().createElement("img",{src:e,alt:"미리보기 ".concat(t+1)}),i().createElement("button",{type:"button",className:"remove-button",onClick:function(){return function(e){URL.revokeObjectURL(B[e]),P(function(t){return t.filter(function(t,n){return n!==e})}),M(function(t){return t.filter(function(t,n){return n!==e})})}(t)}},"×"))}),x.length<l&&i().createElement("div",{className:"add-image-button",onClick:function(){var e;return null===(e=H.current)||void 0===e?void 0:e.click()}},i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},i().createElement("path",{d:"M12 5V19M5 12H19"})),i().createElement("span",null,"사진 추가")),i().createElement("input",{ref:H,type:"file",accept:"image/*",multiple:!0,onChange:function(e){var t=Array.from(e.target.files||[]),n=l-x.length,r=t.slice(0,n);r.length<t.length&&alert("최대 ".concat(l,"개까지 업로드 가능합니다."));var a=r.map(function(e){return URL.createObjectURL(e)});P(function(e){return[].concat(y(e),y(r))}),M(function(e){return[].concat(y(e),y(a))})},style:{display:"none"}})),i().createElement("p",{className:"image-info"},"최대 ",l,"개까지 등록 가능합니다.")),i().createElement("div",{className:"form-actions"},i().createElement("button",{type:"button",className:"cancel-button",onClick:n,disabled:A},E),i().createElement("button",{type:"submit",className:"submit-button",disabled:A},A?"등록 중...":v)))};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.rating;return i().createElement("div",{className:"star-rating"},[1,2,3,4,5].map(function(e){return i().createElement("svg",{key:e,width:"20",height:"20",viewBox:"0 0 20 20",fill:e<=t?"currentColor":"none",stroke:"currentColor",strokeWidth:"1",className:e<=t?"filled":"empty"},i().createElement("path",{d:"M10 1.5L12.5 7L18.5 8L14.25 12L15.5 18L10 15L4.5 18L5.75 12L1.5 8L7.5 7L10 1.5Z"}))}))},C=function(e){var t,n=e.statistics,r=n.totalCount,a=n.averageRating,o=n.ratingDistribution,c=Math.max.apply(Math,function(e){if(Array.isArray(e))return S(e)}(t=Object.values(o))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i().createElement("div",{className:"review-statistics"},i().createElement("div",{className:"statistics-summary"},i().createElement("div",{className:"average-rating"},i().createElement("span",{className:"rating-number"},a.toFixed(1)),i().createElement(O,{rating:Math.round(a)}),i().createElement("span",{className:"total-count"},"총 ",r,"개의 리뷰"))),i().createElement("div",{className:"rating-distribution"},[5,4,3,2,1].map(function(e){var t=o[e],n=function(e){return 0===r?0:Math.round(e/r*100)}(t),a=r>0?t/c*100:0;return i().createElement("div",{key:e,className:"distribution-row"},i().createElement("span",{className:"rating-label"},e,"점"),i().createElement("div",{className:"progress-bar"},i().createElement("div",{className:"progress-fill",style:{width:"".concat(a,"%")}})),i().createElement("span",{className:"rating-percentage"},n,"%"),i().createElement("span",{className:"rating-count"},"(",t,")"))})))},j=function(){return i().createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2"},i().createElement("path",{d:"M24 4L29.5 16L42 18L33 27L35.5 40L24 34L12.5 40L15 27L6 18L18.5 16L24 4Z"}),i().createElement("path",{d:"M16 24L20 28L28 20"}))},L=function(e){var t=e.message;return i().createElement("div",{className:"empty-state"},i().createElement("div",{className:"empty-icon"},i().createElement(j,null)),i().createElement("p",{className:"empty-message"},t))};function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t,n){return(t=function(e){var t=function(e){if("object"!=x(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof c?r:c,u=Object.create(l.prototype);return T(u,"_invoke",function(n,r,a){var o,c,l,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,c=0,l=e,f.n=n,i}};function p(n,r){for(c=n,l=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],p=f.p,v=o[2];n>3?(a=v===r)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(c=0,f.v=r,f.n=o[1]):p<v&&(a=n<3||o[0]>r||r>v)&&(o[4]=n,o[5]=r,f.n=v,c=0))}if(a||n>1)return i;throw m=!0,r}return function(a,s,v){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&p(s,v),c=s,l=v;(t=c<2?e:l)||!m;){o||(c?c<3?(c>1&&(f.n=-1),p(c,l)):f.n=l:f.v=l);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(T(t={},r,function(){return this}),t),m=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,T(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=u,T(m,"constructor",u),T(u,"constructor",l),l.displayName="GeneratorFunction",T(u,a,"GeneratorFunction"),T(m),T(m,a,"Generator"),T(m,r,function(){return this}),T(m,"toString",function(){return"[object Generator]"}),(M=function(){return{w:o,m:f}})()}function T(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}T=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){T(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},T(e,t,n,r)}function A(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const F=function(e){var t=e.data,n=e.actions,r=e.options,a=void 0===r?{}:r,c=t||{},l=c.reviews,s=void 0===l?[]:l,m=c.statistics,f=c.currentFilter,p=void 0===f?{sortBy:"latest"}:f,d=c.currentPage,g=void 0===d?1:d,b=c.totalPages,y=void 0===b?1:b,h=(c.pageSize,c.showStatistics),E=void 0===h||h,w=c.showFilter,N=void 0===w||w,S=c.showWriteForm,O=void 0===S||S,j=c.allowImageUpload,x=void 0===j||j,P=c.maxImageCount,T=void 0===P?5:P,_=c.minContentLength,F=void 0===_?10:_,D=c.maxContentLength,H=void 0===D?500:D,G=a.dateFormat,U=void 0===G?"YYYY.MM.DD":G,W=a.showProductInfo,Y=void 0!==W&&W,Z=a.showBestBadge,$=void 0===Z||Z,q=a.showHelpfulButton,V=void 0===q||q,z=(a.allowAnonymous,a.maskedWriterName),J=void 0===z||z,K=a.emptyMessage,Q=void 0===K?"아직 작성된 리뷰가 없습니다.":K,X=a.submitButtonText,ee=void 0===X?"리뷰 등록":X,te=a.cancelButtonText,ne=void 0===te?"취소":te,re=a.writeButtonText,ae=void 0===re?"리뷰 작성":re,oe=a.filterLabels,ie=void 0===oe?{latest:"최신순",rating_high:"별점 높은순",rating_low:"별점 낮은순",helpful:"도움순"}:oe,ce=R((0,o.useState)(!1),2),le=ce[0],ue=ce[1],se=R((0,o.useState)(p),2),me=se[0],fe=se[1],pe=R((0,o.useState)({}),2),ve=pe[0],de=pe[1],ge=(0,o.useRef)(null);(0,o.useEffect)(function(){ge.current&&(ge.current.style.opacity="1")},[]);var be=function(e){null!=n&&n.onPageChange&&n.onPageChange(e)},ye=function(){var e,t=(e=M().m(function e(t){return M().w(function(e){for(;;)switch(e.n){case 0:if(null==n||!n.onReviewSubmit){e.n=2;break}return e.n=1,n.onReviewSubmit(t);case 1:ue(!1);case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){A(o,r,a,i,c,"next",e)}function c(e){A(o,r,a,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}();return i().createElement("div",{className:"review-section-skin",ref:ge},E&&m&&i().createElement(C,{statistics:m}),i().createElement("div",{className:"review-section-header"},i().createElement("h3",{className:"section-title"},"리뷰 (",(null==m?void 0:m.totalCount)||0,")"),O&&!le&&i().createElement("button",{className:"write-button",onClick:function(){ue(!0)}},ae)),le&&i().createElement(k,{onSubmit:ye,onCancel:function(){ue(!1)},allowImageUpload:x,maxImageCount:T,minContentLength:F,maxContentLength:H,submitButtonText:ee,cancelButtonText:ne}),N&&s.length>0&&i().createElement(v,{currentFilter:me,onChange:function(e){fe(e),null!=n&&n.onFilterChange&&n.onFilterChange(e)},labels:ie}),s.length>0?i().createElement(i().Fragment,null,i().createElement(u,{reviews:s,showProductInfo:Y,showBestBadge:$,showHelpfulButton:V,maskedWriterName:J,dateFormat:U,expandedImages:ve,onImageExpand:function(e){de(function(t){return I(I({},t),{},B({},e,!t[e]))})},onImageClick:function(e,t){null!=n&&n.onImageClick&&n.onImageClick(e,t)},onHelpfulClick:function(e){null!=n&&n.onHelpfulClick&&n.onHelpfulClick(e)},onDelete:null==n?void 0:n.onReviewDelete,onReport:null==n?void 0:n.onReviewReport}),function(){if(y<=1)return null;var e=[],t=Math.max(1,g-Math.floor(2.5)),n=Math.min(y,t+5-1);n-t<4&&(t=Math.max(1,n-5+1)),t>1&&e.push(i().createElement("button",{key:"first",className:"page-button",onClick:function(){return be(1)}},"처음")),g>1&&e.push(i().createElement("button",{key:"prev",className:"page-button",onClick:function(){return be(g-1)}},"이전"));for(var r=function(t){e.push(i().createElement("button",{key:t,className:"page-button ".concat(t===g?"active":""),onClick:function(){return be(t)}},t))},a=t;a<=n;a++)r(a);return g<y&&e.push(i().createElement("button",{key:"next",className:"page-button",onClick:function(){return be(g+1)}},"다음")),n<y&&e.push(i().createElement("button",{key:"last",className:"page-button",onClick:function(){return be(y)}},"마지막")),i().createElement("div",{className:"pagination"},e)}()):!le&&i().createElement(L,{message:Q}))};return a})());