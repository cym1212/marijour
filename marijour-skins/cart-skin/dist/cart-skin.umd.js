!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.CartSkin=t(require("react")):e.CartSkin=t(e.React)}(this,e=>(()=>{"use strict";var t={156:t=>{t.exports=e}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,a),c.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};a.d(r,{default:()=>O});var c=a(156),o=a.n(c),l=function(e){var t=e.totalCount,n=e.selectedCount,a=e.isAllSelected,r=e.onSelectAll,c=e.onDeleteSelected;return o().createElement("div",{className:"cart-header"},o().createElement("div",{className:"cart-title-section"},o().createElement("h1",{className:"cart-title"},"장바구니 ",o().createElement("span",{className:"count"},t)),o().createElement("div",{className:"cart-steps"},o().createElement("span",{className:"step active"},"장바구니"),o().createElement("span",{className:"step-arrow"},"→"),o().createElement("span",{className:"step"},"주문서 작성"),o().createElement("span",{className:"step-arrow"},"→"),o().createElement("span",{className:"step"},"주문 완료"))),o().createElement("div",{className:"cart-controls"},o().createElement("label",{className:"select-all"},o().createElement("input",{type:"checkbox",checked:a,onChange:function(e){return r(e.target.checked)}}),o().createElement("span",null,"전체선택 (",n,"/",t,")")),o().createElement("button",{className:"delete-selected",onClick:c,disabled:0===n},"선택 삭제")))},i=function(){return o().createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2"},o().createElement("path",{d:"M12 4L6 12V40C6 41.0609 6.42143 42.0783 7.17157 42.8284C7.92172 43.5786 8.93913 44 10 44H38C39.0609 44 40.0783 43.5786 40.8284 42.8284C41.5786 42.0783 42 41.0609 42 40V12L36 4H12Z"}),o().createElement("path",{d:"M6 12H42"}),o().createElement("path",{d:"M32 20C32 22.1217 31.1571 24.1566 29.6569 25.6569C28.1566 27.1571 26.1217 28 24 28C21.8783 28 19.8434 27.1571 18.3431 25.6569C16.8429 24.1566 16 22.1217 16 20"}))},s=function(e){var t=e.message,n=void 0===t?"장바구니가 비어있어요":t,a=e.subMessage,r=void 0===a?"고객님의 취향에 맞는 상품을 담아 쇼핑을 즐겨보세요!":a,c=e.buttonText,l=void 0===c?"상품 채우러가기":c,s=e.onButtonClick;return o().createElement("div",{className:"empty-cart"},o().createElement("div",{className:"empty-cart-content"},o().createElement("div",{className:"empty-cart-icon"},o().createElement(i,null)),o().createElement("h2",{className:"empty-cart-message"},n),o().createElement("p",{className:"empty-cart-sub-message"},r),o().createElement("button",{className:"empty-cart-button",onClick:s},l)))},u=function(){return o().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},o().createElement("path",{d:"M3 5H17M8 5V3C8 2.44772 8.44772 2 9 2H11C11.5523 2 12 2.44772 12 3V5M10 9V14M6 9V14M14 9V14M5 5L6 17C6 17.5523 6.44772 18 7 18H13C13.5523 18 14 17.5523 14 17L15 5H5Z"}))},m=function(e){var t=e.item,n=e.isSelected,a=e.onSelect,r=e.onQuantityChange,c=e.onDelete,l=function(e){return e.toLocaleString("ko-KR")},i=function(e){var n=t.quantity+e;n>=1&&(!t.stock||n<=t.stock)&&r(t.id,n)},s=t.price*t.quantity;return o().createElement("div",{className:"cart-item"},o().createElement("div",{className:"cart-item-select"},o().createElement("input",{type:"checkbox",checked:n,onChange:function(e){return a(t.id,e.target.checked)}})),o().createElement("div",{className:"cart-item-image"},o().createElement("img",{src:t.thumbnailUrl,alt:t.name})),o().createElement("div",{className:"cart-item-info"},o().createElement("h3",{className:"cart-item-name"},t.name),t.options&&t.options.length>0&&o().createElement("div",{className:"cart-item-options"},t.options.map(function(e,t){return o().createElement("span",{key:t,className:"option"},e.name,": ",e.value)})),o().createElement("div",{className:"cart-item-price"},t.discountRate&&o().createElement("span",{className:"discount-rate"},t.discountRate,"%"),o().createElement("span",{className:"current-price"},l(t.price),"원"),t.originalPrice&&o().createElement("span",{className:"original-price"},l(t.originalPrice),"원"))),o().createElement("div",{className:"cart-item-quantity"},o().createElement("div",{className:"quantity-controls"},o().createElement("button",{className:"quantity-button minus",onClick:function(){return i(-1)},disabled:t.quantity<=1},"−"),o().createElement("span",{className:"quantity-value"},t.quantity),o().createElement("button",{className:"quantity-button plus",onClick:function(){return i(1)},disabled:!!t.stock&&t.quantity>=t.stock},"+")),o().createElement("div",{className:"item-total-price"},l(s),"원")),o().createElement("button",{className:"cart-item-delete",onClick:function(){return c(t.id)},"aria-label":"삭제"},o().createElement(u,null)))},d=function(){return o().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"},o().createElement("circle",{cx:"8",cy:"8",r:"7",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),o().createElement("path",{d:"M8 7V11M8 5V5.5",strokeWidth:"1.5",strokeLinecap:"round"}))},p=function(e){var t=e.summary,n=e.deliveryInfo,a=e.onOrder,r=e.showCoupon,c=void 0!==r&&r,l=e.showPoints,i=void 0!==l&&l,s=function(e){return e.toLocaleString("ko-KR")},u=t.totalDiscountAmount+t.couponDiscountAmount+t.pointsDiscountAmount;return o().createElement("div",{className:"cart-summary"},o().createElement("h2",{className:"summary-title"},"주문 요약"),o().createElement("div",{className:"summary-details"},o().createElement("div",{className:"summary-row"},o().createElement("span",{className:"label"},"상품 (",t.selectedCount,"개)"),o().createElement("span",{className:"value"},s(t.totalOriginalPrice),"원")),t.totalDiscountAmount>0&&o().createElement("div",{className:"summary-row discount"},o().createElement("span",{className:"label"},"상품 할인"),o().createElement("span",{className:"value"},"-",s(t.totalDiscountAmount),"원")),c&&t.couponDiscountAmount>0&&o().createElement("div",{className:"summary-row discount"},o().createElement("span",{className:"label"},"쿠폰 할인"),o().createElement("span",{className:"value"},"-",s(t.couponDiscountAmount),"원")),i&&t.pointsDiscountAmount>0&&o().createElement("div",{className:"summary-row discount"},o().createElement("span",{className:"label"},"포인트 사용"),o().createElement("span",{className:"value"},"-",s(t.pointsDiscountAmount),"원")),o().createElement("div",{className:"summary-row"},o().createElement("span",{className:"label"},"배송비",n&&o().createElement("button",{className:"info-button","aria-label":"배송비 정보"},o().createElement(d,null))),o().createElement("span",{className:"value"},0===t.deliveryFee?"무료":"".concat(s(t.deliveryFee),"원"))),(null==n?void 0:n.freeShippingThreshold)&&t.deliveryFee>0&&o().createElement("div",{className:"delivery-info"},o().createElement("p",null,s(n.freeShippingThreshold),"원 이상 구매 시 무료배송"))),o().createElement("div",{className:"summary-total"},o().createElement("span",{className:"label"},"총 결제금액"),o().createElement("div",{className:"total-price"},u>0&&o().createElement("span",{className:"discount-badge"},s(u),"원 할인"),o().createElement("span",{className:"amount"},s(t.totalPrice),"원"))),o().createElement("button",{className:"order-button",onClick:a,disabled:0===t.selectedCount},0===t.selectedCount?"상품을 선택해주세요":"".concat(t.selectedCount,"개 상품 주문하기")))};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var v=function(e){var t,n,a=e.coupons,r=e.selectedCouponId,l=e.onCouponSelect,i=(t=(0,c.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,c,o,l=[],i=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=c.call(n)).done)&&(l.push(a.value),l.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],u=i[1],m=function(e){return"percent"===e.discountType?"".concat(e.discountValue,"%"):"".concat(e.discountValue.toLocaleString("ko-KR"),"원")},d=a.find(function(e){return e.id===r});return o().createElement("div",{className:"coupon-section"},o().createElement("div",{className:"section-header"},o().createElement("h3",{className:"section-title"},"쿠폰"),o().createElement("button",{className:"section-toggle",onClick:function(){return u(!s)}},s?"접기":"펼치기")),s&&o().createElement("div",{className:"coupon-content"},o().createElement("div",{className:"coupon-select"},o().createElement("select",{value:r||"",onChange:function(e){return l(e.target.value||null)},className:"coupon-dropdown"},o().createElement("option",{value:""},"쿠폰을 선택해주세요"),a.map(function(e){return o().createElement("option",{key:e.id,value:e.id},e.name," - ",m(e)," 할인",e.minOrderAmount&&" (".concat(e.minOrderAmount.toLocaleString("ko-KR"),"원 이상)"))}))),d&&o().createElement("div",{className:"selected-coupon"},o().createElement("span",{className:"coupon-name"},d.name),o().createElement("span",{className:"coupon-discount"},m(d)," 할인 적용"))))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,c,o,l=[],i=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=c.call(n)).done)&&(l.push(a.value),l.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var b=function(e){var t=e.availablePoints,n=e.usedPoints,a=e.onPointsChange,r=y((0,c.useState)(!1),2),l=r[0],i=r[1],s=y((0,c.useState)(n.toString()),2),u=s[0],m=s[1];return o().createElement("div",{className:"points-section"},o().createElement("div",{className:"section-header"},o().createElement("h3",{className:"section-title"},"포인트"),o().createElement("button",{className:"section-toggle",onClick:function(){return i(!l)}},l?"접기":"펼치기")),l&&o().createElement("div",{className:"points-content"},o().createElement("div",{className:"points-available"},o().createElement("span",{className:"label"},"사용 가능 포인트"),o().createElement("span",{className:"value"},t.toLocaleString("ko-KR"),"P")),o().createElement("div",{className:"points-input"},o().createElement("input",{type:"number",value:u,onChange:function(e){return n=e.target.value,void((r=parseInt(n)||0)<=t&&(m(n),a(r)));var n,r},placeholder:"0",min:"0",max:t,className:"points-field"}),o().createElement("button",{className:"use-all-button",onClick:function(){m(t.toString()),a(t)}},"모두 사용")),n>0&&o().createElement("div",{className:"points-applied"},o().createElement("span",null,n.toLocaleString("ko-KR"),"P 사용"))))},h=function(e){var t=e.totalPrice,n=e.selectedCount,a=e.onOrder,r=e.isVisible;return o().createElement("div",{className:"mobile-purchase-bar ".concat(r?"visible":"")},o().createElement("div",{className:"purchase-bar-content"},o().createElement("div",{className:"total-info"},o().createElement("span",{className:"label"},"총 결제금액"),o().createElement("span",{className:"price"},t.toLocaleString("ko-KR"),"원")),o().createElement("button",{className:"order-button",onClick:a,disabled:0===n},0===n?"상품을 선택해주세요":"주문하기 (".concat(n,"개)"))))};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return(t=function(e){var t=function(e){if("object"!=N(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,c,o,l=[],i=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=c.call(n)).done)&&(l.push(a.value),l.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const O=function(e){var t=e.data,n=e.utils,a=e.actions,r=t||{},i=r.items,u=void 0===i?[]:i,d=r.selectedItemIds,f=void 0===d?[]:d,y=r.coupons,E=void 0===y?[]:y,N=r.availablePoints,g=void 0===N?0:N,C=r.usedPoints,k=void 0===C?0:C,O=r.deliveryInfo,A=void 0===O?{fee:3e3,freeShippingThreshold:5e4}:O,P=r.showCoupon,j=void 0!==P&&P,x=r.showPoints,M=void 0!==x&&x,D=r.emptyMessage,I=r.emptySubMessage,q=r.emptyButtonText,L=r.emptyButtonLink,T=void 0===L?"/shop":L,V=w((0,c.useState)(new Set(f)),2),R=V[0],B=V[1],H=w((0,c.useState)(u),2),K=H[0],F=H[1],U=w((0,c.useState)(null),2),W=U[0],$=U[1],Q=w((0,c.useState)(k),2),Z=Q[0],_=Q[1],z=w((0,c.useState)(!1),2),Y=z[0],G=z[1],J=(0,c.useRef)(null);(0,c.useEffect)(function(){J.current&&(J.current.style.opacity="1")},[]),(0,c.useEffect)(function(){var e=function(){G(window.scrollY>100)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}},[]);var X=K.length>0&&K.every(function(e){return R.has(e.id)}),ee=function(e,t){var n=new Set(R);t?n.add(e):n.delete(e),B(n)},te=function(e,t){F(K.map(function(n){return n.id===e?S(S({},n),{},{quantity:t}):n}))},ne=function(e){F(K.filter(function(t){return t.id!==e}));var t=new Set(R);t.delete(e),B(t)},ae=function(){var e=K.filter(function(e){return R.has(e.id)}),t=e.length,n=e.reduce(function(e,t){return e+(t.originalPrice||t.price)*t.quantity},0),a=e.reduce(function(e,t){return e+t.price*t.quantity},0),r=n-a,c=0;if(W&&E.length>0){var o=E.find(function(e){return e.id===W});o&&(!o.minOrderAmount||a>=o.minOrderAmount)&&(c="percent"===o.discountType?Math.floor(a*o.discountValue/100):o.discountValue)}var l=a>=(A.freeShippingThreshold||0)?0:A.fee,i=a-c-Z+l;return{selectedCount:t,totalOriginalPrice:n,totalDiscountAmount:r,couponDiscountAmount:c,pointsDiscountAmount:Z,deliveryFee:l,totalPrice:Math.max(0,i)}}(),re=function(){null!=a&&a.proceedToCheckout?a.proceedToCheckout({selectedItems:K.filter(function(e){return R.has(e.id)}),couponId:W,usedPoints:Z,summary:ae}):null!=n&&n.navigate&&n.navigate("/order")};return 0===K.length?o().createElement("div",{className:"cart-skin empty",ref:J},o().createElement(s,{message:D,subMessage:I,buttonText:q,onButtonClick:function(){null!=n&&n.navigate&&n.navigate(T)}})):o().createElement("div",{className:"cart-skin",ref:J},o().createElement("div",{className:"cart-container"},o().createElement("div",{className:"cart-content"},o().createElement(l,{totalCount:K.length,selectedCount:R.size,isAllSelected:X,onSelectAll:function(e){B(e?new Set(K.map(function(e){return e.id})):new Set)},onDeleteSelected:function(){F(K.filter(function(e){return!R.has(e.id)})),B(new Set)}}),o().createElement("div",{className:"cart-items"},K.map(function(e){return o().createElement(m,{key:e.id,item:e,isSelected:R.has(e.id),onSelect:ee,onQuantityChange:te,onDelete:ne})})),(j||M)&&o().createElement("div",{className:"discount-sections"},j&&E.length>0&&o().createElement(v,{coupons:E,selectedCouponId:W,onCouponSelect:$}),M&&g>0&&o().createElement(b,{availablePoints:g,usedPoints:Z,onPointsChange:_}))),o().createElement("div",{className:"cart-sidebar"},o().createElement(p,{summary:ae,deliveryInfo:A,onOrder:re,showCoupon:j,showPoints:M}))),o().createElement(h,{totalPrice:ae.totalPrice,selectedCount:ae.selectedCount,onOrder:re,isVisible:Y}))};return r.default})());