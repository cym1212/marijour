/*! For license information please see inquiry-section-skin.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.InquirySectionSkin=t(require("react")):e.InquirySectionSkin=t(e.React)}(this,e=>(()=>{"use strict";var t={156:t=>{t.exports=e}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};r.r(a),r.d(a,{default:()=>B});var o=r(156),l=r.n(o);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.filter,n=e.onChange,r=e.categoryLabels,a=e.statusLabels,i=f((0,o.useState)(t),2),u=i[0],m=i[1],d=f((0,o.useState)(!1),2),p=d[0],v=d[1],y=function(e,t){var n=s({},u);t?n[e]=t:delete n[e],m(n)};return l().createElement("div",{className:"inquiry-filter"},l().createElement("div",{className:"filter-header"},l().createElement("h3",null,"문의 검색"),l().createElement("button",{className:"expand-button",onClick:function(){return v(!p)}},p?"접기":"상세 검색")),l().createElement("div",{className:"filter-content ".concat(p?"expanded":"")},l().createElement("div",{className:"filter-section"},l().createElement("label",{className:"filter-label"},"조회 기간"),l().createElement("div",{className:"period-buttons"},[{label:"전체",value:null},{label:"최근 1개월",value:30},{label:"최근 3개월",value:90},{label:"최근 6개월",value:180},{label:"최근 1년",value:365}].map(function(e){return l().createElement("button",{key:e.label,type:"button",className:"period-button ".concat(u.startDate||u.endDate||null!==e.value?"":"active"),onClick:function(){return function(e){var t=s({},u);if(null===e)delete t.startDate,delete t.endDate;else{var n=new Date,r=new Date;r.setDate(n.getDate()-e),t.startDate=r.toISOString().split("T")[0],t.endDate=n.toISOString().split("T")[0]}m(t)}(e.value)}},e.label)})),l().createElement("div",{className:"date-inputs"},l().createElement("input",{type:"date",value:u.startDate||"",onChange:function(e){return y("startDate",e.target.value)},className:"date-input"}),l().createElement("span",null,"~"),l().createElement("input",{type:"date",value:u.endDate||"",onChange:function(e){return y("endDate",e.target.value)},className:"date-input"}))),l().createElement("div",{className:"filter-section"},l().createElement("label",{className:"filter-label"},"문의 유형"),l().createElement("div",{className:"category-checkboxes"},["product","order_payment","delivery","cancel_exchange_return","other"].map(function(e){var t;return l().createElement("label",{key:e,className:"checkbox-label"},l().createElement("input",{type:"checkbox",checked:(null===(t=u.category)||void 0===t?void 0:t.includes(e))||!1,onChange:function(t){return function(e,t){var n=s({},u),r=n.category||[];n.category=t?[].concat(c(r),[e]):r.filter(function(t){return t!==e}),0===n.category.length&&delete n.category,m(n)}(e,t.target.checked)}}),l().createElement("span",null,r[e]||e))}))),l().createElement("div",{className:"filter-section"},l().createElement("label",{className:"filter-label"},"답변 상태"),l().createElement("div",{className:"status-checkboxes"},["pending","in_progress","answered","closed"].map(function(e){var t;return l().createElement("label",{key:e,className:"checkbox-label"},l().createElement("input",{type:"checkbox",checked:(null===(t=u.status)||void 0===t?void 0:t.includes(e))||!1,onChange:function(t){return function(e,t){var n=s({},u),r=n.status||[];n.status=t?[].concat(c(r),[e]):r.filter(function(t){return t!==e}),0===n.status.length&&delete n.status,m(n)}(e,t.target.checked)}}),l().createElement("span",null,a[e]||e))}))),l().createElement("div",{className:"filter-section"},l().createElement("label",{className:"filter-label"},"검색어"),l().createElement("input",{type:"text",value:u.searchKeyword||"",onChange:function(e){return t=e.target.value,n=s({},u),t.trim()?n.searchKeyword=t.trim():delete n.searchKeyword,void m(n);var t,n},placeholder:"제목 또는 내용으로 검색",className:"search-input"})),l().createElement("div",{className:"filter-actions"},l().createElement("button",{type:"button",className:"reset-button",onClick:function(){var e={};m(e),n(e)}},"초기화"),l().createElement("button",{type:"button",className:"apply-button",onClick:function(){n(u),v(!1)}},"검색"))))},y=function(e){var t=e.inquiries,n=e.categoryLabels,r=e.statusLabels,a=(e.dateFormat,e.onInquirySelect),o=function(e){switch(e){case"pending":return"status-pending";case"in_progress":return"status-progress";case"answered":return"status-answered";case"closed":return"status-closed";default:return""}};return l().createElement("div",{className:"inquiry-list"},t.map(function(e){return l().createElement("div",{key:e.id,className:"inquiry-item",onClick:function(){return a(e.id)}},l().createElement("div",{className:"inquiry-header"},l().createElement("div",{className:"inquiry-meta"},l().createElement("span",{className:"inquiry-category"},n[e.category]||e.category),l().createElement("span",{className:"inquiry-date"},e.createdAt.replace(/-/g,".")),e.isPrivate&&l().createElement("span",{className:"private-badge"},l().createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M3 5C3 3.89543 3.89543 3 5 3H7C8.10457 3 9 3.89543 9 5V6H10C10.5523 6 11 6.44772 11 7V10C11 10.5523 10.5523 11 10 11H2C1.44772 11 1 10.5523 1 10V7C1 6.44772 1.44772 6 2 6H3V5Z"})),"비공개")),l().createElement("div",{className:"inquiry-status ".concat(o(e.status))},r[e.status]||e.status)),l().createElement("div",{className:"inquiry-content"},l().createElement("h4",{className:"inquiry-title"},e.title),l().createElement("p",{className:"inquiry-text"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?e:e.substring(0,t)+"..."}(e.content))),l().createElement("div",{className:"inquiry-footer"},l().createElement("div",{className:"inquiry-writer"},l().createElement("span",null,"작성자: ",e.writer.name)),l().createElement("div",{className:"inquiry-actions"},e.attachments&&e.attachments.length>0&&l().createElement("span",{className:"attachment-badge"},l().createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M8.5 3L3.5 8C3.10218 8.39782 3.10218 9.10218 3.5 9.5C3.89782 9.89782 4.60218 9.89782 5 9.5L10 4.5C10.7956 3.70442 10.7956 2.42893 10 1.63333C9.20442 0.837748 7.92893 0.837748 7.13333 1.63333L2.13333 6.63333C0.944444 7.82222 0.944444 9.67778 2.13333 10.8667C3.32222 12.0556 5.17778 12.0556 6.36667 10.8667L11.5 5.5"})),e.attachments.length),e.answer&&l().createElement("span",{className:"answer-badge"},l().createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M1 7L5 11L13 3"})),"답변 완료"))))}))};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.inquiry,n=e.categoryLabels,r=e.statusLabels,a=(e.dateFormat,e.isOwner),o=void 0!==a&&a,i=e.onBack,c=e.onAction,u=e.onAttachmentDownload,s=function(e){var t,n,r=(t=e.split("T"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1],l=a.replace(/-/g,"."),i=o?o.substring(0,5):"";return i?"".concat(l," ").concat(i):l};return l().createElement("div",{className:"inquiry-detail"},l().createElement("div",{className:"detail-header"},l().createElement("button",{className:"back-button",onClick:i},l().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2"},l().createElement("path",{d:"M12 4L6 10L12 16"})),"목록으로")),l().createElement("div",{className:"inquiry-info"},l().createElement("div",{className:"inquiry-status-section"},l().createElement("div",{className:"status-badge large ".concat(function(e){switch(e){case"pending":return"status-pending";case"in_progress":return"status-progress";case"answered":return"status-answered";case"closed":return"status-closed";default:return""}}(t.status))},r[t.status]||t.status),l().createElement("div",{className:"inquiry-meta-info"},l().createElement("span",{className:"category-badge"},n[t.category]||t.category),t.isPrivate&&l().createElement("span",{className:"private-badge"},l().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M4 6C4 4.89543 4.89543 4 6 4H10C11.1046 4 12 4.89543 12 6V7H13C13.5523 7 14 7.44772 14 8V13C14 13.5523 13.5523 14 13 14H3C2.44772 14 2 13.5523 2 13V8C2 7.44772 2.44772 7 3 7H4V6Z"})),"비공개 문의"))),l().createElement("div",{className:"inquiry-header-info"},l().createElement("h3",{className:"inquiry-title"},t.title),l().createElement("div",{className:"inquiry-details"},l().createElement("div",{className:"detail-item"},l().createElement("span",{className:"label"},"작성자"),l().createElement("span",{className:"value"},t.writer.name)),l().createElement("div",{className:"detail-item"},l().createElement("span",{className:"label"},"이메일"),l().createElement("span",{className:"value"},t.writer.email)),t.writer.phone&&l().createElement("div",{className:"detail-item"},l().createElement("span",{className:"label"},"연락처"),l().createElement("span",{className:"value"},t.writer.phone)),l().createElement("div",{className:"detail-item"},l().createElement("span",{className:"label"},"작성일"),l().createElement("span",{className:"value"},s(t.createdAt))),t.updatedAt&&t.updatedAt!==t.createdAt&&l().createElement("div",{className:"detail-item"},l().createElement("span",{className:"label"},"수정일"),l().createElement("span",{className:"value"},s(t.updatedAt)))))),l().createElement("div",{className:"inquiry-content-section"},l().createElement("h4",null,"문의 내용"),l().createElement("div",{className:"inquiry-content"},t.content.split("\n").map(function(e,t){return l().createElement("p",{key:t},e)}))),t.attachments&&t.attachments.length>0&&l().createElement("div",{className:"attachments-section"},l().createElement("h4",null,"첨부파일"),l().createElement("div",{className:"attachment-list"},t.attachments.map(function(e){return l().createElement("div",{key:e.id,className:"attachment-item"},l().createElement("div",{className:"attachment-info"},l().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M9 1H3C2.44772 1 2 1.44772 2 2V14C2 14.5523 2.44772 15 3 15H13C13.5523 15 14 14.5523 14 14V6L9 1Z"}),l().createElement("path",{d:"M9 1V6H14"})),l().createElement("span",{className:"attachment-name"},e.name),l().createElement("span",{className:"attachment-size"},"(",e.size,")")),l().createElement("button",{className:"download-button",onClick:function(){return u(e)}},l().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M8 11L8 1"}),l().createElement("path",{d:"M4 7L8 11L12 7"}),l().createElement("path",{d:"M2 15H14"})),"다운로드"))}))),t.answer&&l().createElement("div",{className:"answer-section"},l().createElement("div",{className:"answer-header"},l().createElement("h4",null,"답변"),l().createElement("span",{className:"answer-date"},s(t.answer.answeredAt))),l().createElement("div",{className:"answer-content"},l().createElement("div",{className:"answerer"},l().createElement("strong",null,t.answer.answeredBy)),l().createElement("div",{className:"answer-text"},t.answer.content.split("\n").map(function(e,t){return l().createElement("p",{key:t},e)})))),o&&"pending"===t.status&&l().createElement("div",{className:"action-buttons"},l().createElement("button",{className:"edit-button",onClick:function(){c("edit",t.id)}},"수정"),l().createElement("button",{className:"delete-button",onClick:function(){confirm("문의를 삭제하시겠습니까?")&&c("delete",t.id)}},"삭제")))};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function E(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return w(u,"_invoke",function(n,r,a){var o,i,c,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,i=0,c=e,f.n=n,l}};function d(n,r){for(i=n,c=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,i=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),i=s,c=p;(t=i<2?e:c)||!m;){o||(i?i<3?(i>1&&(f.n=-1),d(i,c)):f.n=c:f.v=c);try{if(u=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(m=f.n<0)?c:n.call(r,f))!==l)break}catch(t){o=e,i=1,c=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function i(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(w(t={},r,function(){return this}),t),m=u.prototype=i.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,w(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=u,w(m,"constructor",u),w(u,"constructor",c),c.displayName="GeneratorFunction",w(u,a,"GeneratorFunction"),w(m),w(m,a,"Generator"),w(m,r,function(){return this}),w(m,"toString",function(){return"[object Generator]"}),(E=function(){return{w:o,m:f}})()}function w(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}w=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){w(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},w(e,t,n,r)}function N(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){return(t=function(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.onSubmit,n=e.onCancel,r=e.currentUser,a=e.isLoggedIn,i=void 0!==a&&a,c=e.allowAttachments,u=void 0===c||c,s=e.maxAttachmentCount,m=void 0===s?5:s,f=e.maxAttachmentSize,d=void 0===f?10:f,p=e.allowPrivateInquiry,v=void 0===p||p,y=e.categoryLabels,h=e.placeholders,b=j((0,o.useState)({category:"product",title:"",content:"",isPrivate:!1,attachments:[],writer:{name:(null==r?void 0:r.name)||"",email:(null==r?void 0:r.email)||"",phone:(null==r?void 0:r.phone)||""}}),2),g=b[0],w=b[1],C=j((0,o.useState)([]),2),A=C[0],P=C[1],q=j((0,o.useState)(!1),2),M=q[0],I=q[1],L=j((0,o.useState)({}),2),_=L[0],D=L[1],T=(0,o.useRef)(null),B=function(){var e={};g.writer.name.trim()||(e.name="이름을 입력해주세요."),g.writer.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.writer.email)||(e.email="올바른 이메일 형식을 입력해주세요."):e.email="이메일을 입력해주세요.",g.title.trim()?g.title.trim().length<2&&(e.title="제목은 2글자 이상 입력해주세요."):e.title="제목을 입력해주세요.",g.content.trim()?g.content.trim().length<10&&(e.content="문의 내용은 10글자 이상 입력해주세요."):e.content="문의 내용을 입력해주세요.",A.length>m&&(e.attachments="첨부파일은 최대 ".concat(m,"개까지 등록 가능합니다."));var t,n=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=x(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw a}}}}(A);try{for(n.s();!(t=n.n()).done;)if(t.value.size>1024*d*1024){e.attachments="파일 크기는 ".concat(d,"MB를 초과할 수 없습니다.");break}}catch(e){n.e(e)}finally{n.f()}return D(e),0===Object.keys(e).length},F=function(e,t){if(e.startsWith("writer.")){var n=e.replace("writer.","");w(function(e){return k(k({},e),{},{writer:k(k({},e.writer),{},O({},n,t))})})}else w(function(n){return k(k({},n),{},O({},e,t))});_[e]&&D(function(t){var n=k({},t);return delete n[e],n})},H=function(){var e,n=(e=E().m(function e(n){var r,a;return E().w(function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),B()){e.n=1;break}return e.a(2);case 1:return I(!0),e.p=2,r=k(k({},g),{},{attachments:A}),e.n=3,t(r);case 3:e.n=5;break;case 4:e.p=4,a=e.v,console.error("문의 등록 실패:",a),alert("문의 등록에 실패했습니다. 다시 시도해주세요.");case 5:return e.p=5,I(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){N(o,r,a,l,i,"next",e)}function i(e){N(o,r,a,l,i,"throw",e)}l(void 0)})});return function(e){return n.apply(this,arguments)}}(),V=h[g.category];return l().createElement("form",{className:"inquiry-form",onSubmit:H},l().createElement("div",{className:"form-section"},l().createElement("h3",null,"문의 유형"),l().createElement("div",{className:"category-buttons"},["product","order_payment","delivery","cancel_exchange_return","other"].map(function(e){return l().createElement("button",{key:e,type:"button",className:"category-button ".concat(g.category===e?"active":""),onClick:function(){return function(e){w(function(t){return k(k({},t),{},{category:e,title:"",content:""})})}(e)}},y[e]||e)}))),l().createElement("div",{className:"form-section"},l().createElement("h3",null,"작성자 정보"),l().createElement("div",{className:"form-row"},l().createElement("div",{className:"form-group"},l().createElement("label",{className:"form-label"},"이름 *"),l().createElement("input",{type:"text",value:g.writer.name,onChange:function(e){return F("writer.name",e.target.value)},className:"form-input ".concat(_.name?"error":""),placeholder:"이름을 입력해주세요",disabled:i}),_.name&&l().createElement("span",{className:"error-message"},_.name)),l().createElement("div",{className:"form-group"},l().createElement("label",{className:"form-label"},"이메일 *"),l().createElement("input",{type:"email",value:g.writer.email,onChange:function(e){return F("writer.email",e.target.value)},className:"form-input ".concat(_.email?"error":""),placeholder:"이메일을 입력해주세요",disabled:i}),_.email&&l().createElement("span",{className:"error-message"},_.email))),l().createElement("div",{className:"form-group"},l().createElement("label",{className:"form-label"},"연락처"),l().createElement("input",{type:"tel",value:g.writer.phone||"",onChange:function(e){return F("writer.phone",e.target.value)},className:"form-input",placeholder:"연락처를 입력해주세요 (선택)"}))),l().createElement("div",{className:"form-section"},l().createElement("h3",null,"문의 내용"),l().createElement("div",{className:"form-group"},l().createElement("label",{className:"form-label"},"제목 *"),l().createElement("input",{type:"text",value:g.title,onChange:function(e){return F("title",e.target.value)},className:"form-input ".concat(_.title?"error":""),placeholder:(null==V?void 0:V.title)||"제목을 입력해주세요"}),_.title&&l().createElement("span",{className:"error-message"},_.title)),l().createElement("div",{className:"form-group"},l().createElement("label",{className:"form-label"},"내용 *"),l().createElement("textarea",{value:g.content,onChange:function(e){return F("content",e.target.value)},className:"form-textarea ".concat(_.content?"error":""),placeholder:(null==V?void 0:V.content)||"문의 내용을 자세히 입력해주세요",rows:8}),_.content&&l().createElement("span",{className:"error-message"},_.content)),v&&l().createElement("div",{className:"form-group"},l().createElement("label",{className:"checkbox-label"},l().createElement("input",{type:"checkbox",checked:g.isPrivate,onChange:function(e){return F("isPrivate",e.target.checked)}}),l().createElement("span",null,"비공개 문의")))),u&&l().createElement("div",{className:"form-section"},l().createElement("h3",null,"첨부파일 (선택)"),l().createElement("div",{className:"file-upload-area"},A.map(function(e,t){return l().createElement("div",{key:t,className:"file-item"},l().createElement("div",{className:"file-info"},l().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5"},l().createElement("path",{d:"M9 1H3C2.44772 1 2 1.44772 2 2V14C2 14.5523 2.44772 15 3 15H13C13.5523 15 14 14.5523 14 14V6L9 1Z"}),l().createElement("path",{d:"M9 1V6H14"})),l().createElement("span",{className:"file-name"},e.name),l().createElement("span",{className:"file-size"},"(",function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}(e.size),")")),l().createElement("button",{type:"button",className:"remove-button",onClick:function(){return function(e){P(function(t){return t.filter(function(t,n){return n!==e})})}(t)}},"×"))}),A.length<m&&l().createElement("div",{className:"add-file-button",onClick:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.click()}},l().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l().createElement("path",{d:"M12 5V19M5 12H19"})),l().createElement("span",null,"파일 추가")),l().createElement("input",{ref:T,type:"file",multiple:!0,onChange:function(e){var t=Array.from(e.target.files||[]),n=m-A.length,r=t.slice(0,n);r.length<t.length&&alert("최대 ".concat(m,"개까지 업로드 가능합니다.")),r.filter(function(e){return e.size>1024*d*1024}).length>0?alert("파일 크기는 ".concat(d,"MB를 초과할 수 없습니다.")):(P(function(e){return[].concat(S(e),S(r))}),T.current&&(T.current.value=""))},style:{display:"none"},accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.hwp,.txt"})),l().createElement("p",{className:"file-info"},"최대 ",m,"개, 파일당 ",d,"MB까지 업로드 가능합니다."),_.attachments&&l().createElement("span",{className:"error-message"},_.attachments)),l().createElement("div",{className:"form-actions"},l().createElement("button",{type:"button",className:"cancel-button",onClick:n,disabled:M},"취소"),l().createElement("button",{type:"submit",className:"submit-button",disabled:M},M?"등록 중...":"문의 등록")))},q=function(){return l().createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",stroke:"currentColor",strokeWidth:"2"},l().createElement("path",{d:"M32 8C45.2548 8 56 18.7452 56 32C56 45.2548 45.2548 56 32 56C18.7452 56 8 45.2548 8 32C8 18.7452 18.7452 8 32 8Z"}),l().createElement("path",{d:"M24 24H40"}),l().createElement("path",{d:"M24 32H40"}),l().createElement("path",{d:"M24 40H32"}),l().createElement("path",{d:"M44 20L48 24L44 28"}))},M=function(e){var t=e.message;return l().createElement("div",{className:"empty-state"},l().createElement("div",{className:"empty-icon"},l().createElement(q,null)),l().createElement("p",{className:"empty-message"},t))};function I(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return L(u,"_invoke",function(n,r,a){var o,i,c,u=0,s=a||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,i=0,c=e,f.n=n,l}};function d(n,r){for(i=n,c=r,t=0;!m&&u&&!a&&t<s.length;t++){var a,o=s[t],d=f.p,p=o[2];n>3?(a=p===r)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,f.v=r,f.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,i=0))}if(a||n>1)return l;throw m=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),i=s,c=p;(t=i<2?e:c)||!m;){o||(i?i<3?(i>1&&(f.n=-1),d(i,c)):f.n=c:f.v=c);try{if(u=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(m=f.n<0)?c:n.call(r,f))!==l)break}catch(t){o=e,i=1,c=t}finally{u=1}}return{value:t,done:m}}}(n,a,o),!0),u}var l={};function i(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(L(t={},r,function(){return this}),t),m=u.prototype=i.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,L(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=u,L(m,"constructor",u),L(u,"constructor",c),c.displayName="GeneratorFunction",L(u,a,"GeneratorFunction"),L(m),L(m,a,"Generator"),L(m,r,function(){return this}),L(m,"toString",function(){return"[object Generator]"}),(I=function(){return{w:o,m:f}})()}function L(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}L=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){L(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},L(e,t,n,r)}function _(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t=e.data,n=e.actions,r=e.options,a=void 0===r?{}:r,i=e.utils,c=t||{},u=c.inquiries,s=void 0===u?[]:u,m=c.currentFilter,f=void 0===m?{}:m,d=c.currentPage,p=void 0===d?1:d,h=c.totalPages,g=void 0===h?1:h,E=(c.pageSize,c.selectedInquiryId),w=c.viewMode,N=void 0===w?"list":w,S=c.showWriteForm,C=void 0===S||S,k=c.isLoggedIn,O=void 0!==k&&k,j=c.currentUser,x=a.dateFormat,A=void 0===x?"YYYY.MM.DD":x,q=a.showFilter,L=void 0===q||q,T=a.showPagination,B=void 0===T||T,F=a.allowAttachments,H=void 0===F||F,V=a.maxAttachmentCount,G=void 0===V?5:V,W=a.maxAttachmentSize,z=void 0===W?10:W,U=a.allowPrivateInquiry,Z=void 0===U||U,$=a.requireLogin,K=void 0!==$&&$,R=a.emptyMessage,Y=void 0===R?"등록된 문의가 없습니다.":R,J=a.categoryLabels,Q=void 0===J?{product:"상품 문의",order_payment:"주문/결제",delivery:"배송",cancel_exchange_return:"취소/교환/반품",other:"기타"}:J,X=a.statusLabels,ee=void 0===X?{pending:"답변 대기",in_progress:"답변 준비중",answered:"답변 완료",closed:"문의 종료"}:X,te=a.placeholders,ne=void 0===te?{product:{title:"상품명을 입력해주세요",content:"상품에 대한 문의사항을 자세히 적어주세요.\n(상품명, 옵션, 문의내용 등)"},order_payment:{title:"주문번호를 입력해주세요",content:"주문이나 결제 관련 문의사항을 적어주세요.\n(주문번호, 결제방법, 문제상황 등)"},delivery:{title:"배송 관련 문의",content:"배송 문의사항을 적어주세요.\n(주문번호, 배송지, 배송상태 등)"},cancel_exchange_return:{title:"취소/교환/반품 요청",content:"취소, 교환, 반품 사유를 자세히 적어주세요.\n(주문번호, 상품명, 사유 등)"},other:{title:"문의 제목을 입력해주세요",content:"문의내용을 자세히 적어주세요."}}:te,re=D((0,o.useState)(null),2),ae=re[0],oe=re[1],le=D((0,o.useState)(N),2),ie=le[0],ce=le[1],ue=(0,o.useRef)(null);(0,o.useEffect)(function(){ue.current&&(ue.current.style.opacity="1")},[]),(0,o.useEffect)(function(){if(E){var e=s.find(function(e){return e.id===E});oe(e||null),ce("detail")}},[E,s]),(0,o.useEffect)(function(){ce(N)},[N]);var se=function(e){null!=n&&n.onPageChange&&n.onPageChange(e)},me=function(){oe(null),ce("list"),null!=n&&n.onViewModeChange&&n.onViewModeChange("list")},fe=function(){var e,t=(e=I().m(function e(t){return I().w(function(e){for(;;)switch(e.n){case 0:if(null==n||!n.onInquirySubmit){e.n=2;break}return e.n=1,n.onInquirySubmit(t);case 1:ce("list");case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){_(o,r,a,l,i,"next",e)}function i(e){_(o,r,a,l,i,"throw",e)}l(void 0)})});return function(e){return t.apply(this,arguments)}}();return l().createElement("div",{className:"inquiry-section-skin",ref:ue},l().createElement("div",{className:"inquiry-section-header"},l().createElement("h2",{className:"page-title"},"write"===ie?"문의하기":"detail"===ie?"문의 상세":"문의 내역"),"list"===ie&&C&&l().createElement("button",{className:"write-button",onClick:function(){!K||O?(ce("write"),null!=n&&n.onViewModeChange&&n.onViewModeChange("write")):null!=i&&i.navigate?i.navigate("/login"):alert("로그인이 필요합니다.")}},"문의하기")),L&&"list"===ie&&l().createElement(v,{filter:f,onChange:function(e){null!=n&&n.onFilterChange&&n.onFilterChange(e)},categoryLabels:Q,statusLabels:ee}),"write"===ie?l().createElement(P,{onSubmit:fe,onCancel:me,currentUser:j,isLoggedIn:O,allowAttachments:H,maxAttachmentCount:G,maxAttachmentSize:z,allowPrivateInquiry:Z,categoryLabels:Q,placeholders:ne}):"detail"===ie&&ae?l().createElement(b,{inquiry:ae,categoryLabels:Q,statusLabels:ee,dateFormat:A,isOwner:(null==j?void 0:j.email)===ae.writer.email,onBack:me,onAction:function(e,t,r){switch(e){case"edit":null!=n&&n.onInquiryEdit&&n.onInquiryEdit(t,r);break;case"delete":null!=n&&n.onInquiryDelete&&n.onInquiryDelete(t)}},onAttachmentDownload:function(e){null!=n&&n.onAttachmentDownload?n.onAttachmentDownload(e):window.open(e.url,"_blank")}}):s.length>0?l().createElement(l().Fragment,null,l().createElement(y,{inquiries:s,categoryLabels:Q,statusLabels:ee,dateFormat:A,onInquirySelect:function(e){var t=s.find(function(t){return t.id===e});oe(t||null),ce("detail"),null!=n&&n.onInquirySelect&&n.onInquirySelect(e)}}),function(){if(!B||g<=1)return null;var e=[],t=Math.max(1,p-Math.floor(2.5)),n=Math.min(g,t+5-1);n-t<4&&(t=Math.max(1,n-5+1));for(var r=function(t){e.push(l().createElement("button",{key:t,className:"page-button ".concat(t===p?"active":""),onClick:function(){return se(t)}},t))},a=t;a<=n;a++)r(a);return l().createElement("div",{className:"pagination"},l().createElement("button",{className:"page-button",onClick:function(){return se(1)},disabled:1===p},"처음"),l().createElement("button",{className:"page-button",onClick:function(){return se(p-1)},disabled:1===p},"이전"),e,l().createElement("button",{className:"page-button",onClick:function(){return se(p+1)},disabled:p===g},"다음"),l().createElement("button",{className:"page-button",onClick:function(){return se(g)},disabled:p===g},"마지막"))}()):l().createElement(M,{message:Y}))};return a})());