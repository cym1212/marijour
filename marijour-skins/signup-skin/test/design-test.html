<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignUp Skin Design Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body>
    <div id="signup-skin-container"></div>

    <!-- React 라이브러리 -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 빌드된 스킨 파일들 로드 -->
    <link rel="stylesheet" href="../dist/signup-skin.css">
    <script src="../dist/signup-skin.umd.js"></script>
    
    <script>
        // 디자인 확인용 간단한 Mock 데이터
        const mockData = {
            formData: {
                user_id: '',
                password: '',
                name: '',
                phone: '',
                email: '',
                agreements: {
                    all: false,
                    age: false,
                    terms: false,
                    privacy: false,
                    marketing: false
                }
            },
            loading: false,
            signUpSuccess: false,
            signUpError: null,
            validationErrors: {},
            basicFields: {
                userId: true,
                password: true,
                name: true,
                phone: true,
                email: true
            },
            varFields: {},
            theme: {
                primaryColor: '#667eea',           // 버튼 기본 색상
                primaryHoverColor: '#5a6fd8',      // 버튼 호버 색상  
                secondaryColor: '#6c757d',
                backgroundColor: '#f8f9fa'
            },
            socialProviders: [
                {
                    id: 'google',
                    name: 'google',
                    displayName: 'Google',
                    icon: '🔵',
                    enabled: true,
                    backgroundColor: '#fff',
                    color: '#757575'
                }
            ],
            termsContent: {
                title: '서비스 이용약관',
                content: '<p>이용약관 내용...</p>',
                version: '1.0.0',
                lastUpdated: '2024-01-01'
            },
            privacyContent: {
                title: '개인정보 수집 및 이용 동의',
                content: '<p>개인정보 처리방침 내용...</p>',
                version: '1.0.0',
                lastUpdated: '2024-01-01'
            },
            marketingContent: {
                title: '마케팅 정보 수신 동의',
                content: '<p>마케팅 정보 수신 내용...</p>',
                description: '마케팅 정보 수신에 동의하시면 다양한 혜택을 받을 수 있습니다.'
            },
            defaultAgreements: {
                age: false,
                terms: false,
                privacy: false,
                marketing: false
            }
        };

        const mockActions = {
            handleSubmit: (e) => {
                e.preventDefault();
                console.log('Form submitted!');
                alert('회원가입 폼이 제출되었습니다!');
            },
            handleChange: (e) => {
                console.log('Input changed:', e.target.id, e.target.value);
            },
            handleBlur: (field) => {
                console.log('Field blurred:', field);
            },
            handleRadioChange: (field, value) => {
                console.log('Radio changed:', field, value);
            },
            handleCheckboxChange: (field, label, checked) => {
                console.log('Checkbox changed:', field, checked);
            }
        };

        const mockOptions = {
            allowSocialSignUp: true,
            requireEmailVerification: false,
            requirePhoneVerification: false,
            allowNicknameSignUp: true,
            allowOptionalFields: true,
            allowReferralCode: true,
            allowInvitationCode: false,
            showMarketingConsent: true,
            requireMarketingConsent: false,
            customBackground: '',
            customLogo: '',
            customTitle: 'Marijour 회원가입',
            customSubtitle: '마리쥬르와 함께 시작해보세요',
            fieldsConfig: {
                email: { required: true, visible: true, placeholder: '이메일을 입력하세요' },
                name: { required: true, visible: true, placeholder: '이름을 입력하세요' },
                nickname: { required: false, visible: true, placeholder: '닉네임을 입력하세요' },
                password: { required: true, visible: true, placeholder: '비밀번호를 입력하세요' },
                confirmPassword: { required: true, visible: true, placeholder: '비밀번호를 다시 입력하세요' },
                phoneNumber: { required: false, visible: true, placeholder: '휴대폰 번호를 입력하세요' },
                birthDate: { required: false, visible: true },
                gender: { required: false, visible: true },
                referralCode: { required: false, visible: true, placeholder: '추천인 코드를 입력하세요' },
                invitationCode: { required: false, visible: false }
            },
            passwordPolicy: {
                minLength: 8,
                maxLength: 20,
                requireUppercase: false,
                requireLowercase: false,
                requireNumbers: false,
                requireSpecialChars: false,
                forbiddenPatterns: []
            },
            theme: {
                primaryColor: '#667eea',
                secondaryColor: '#6c757d',
                backgroundColor: '#f8f9fa',
                textColor: '#333',
                borderColor: '#e1e5e9',
                borderRadius: '8px',
                errorColor: '#dc3545',
                successColor: '#28a745',
                warningColor: '#ffc107'
            },
            validation: {
                showRealTimeValidation: true,
                showPasswordStrength: true,
                showEmailSuggestions: true,
                showNicknameAvailability: true
            }
        };

        const mockUtils = {
            t: (key) => key,
            navigate: (path) => {
                console.log('Navigate to:', path);
                alert(`페이지 이동: ${path}`);
            },
            openModal: (content) => {
                alert('모달이 열려야 합니다');
            },
            closeModal: () => {
                console.log('Modal closed');
            },
            showToast: (message, type) => {
                alert(`${type}: ${message}`);
            }
        };

        // 컴포넌트 props
        const props = {
            data: mockData,
            actions: mockActions,
            options: mockOptions,
            utils: mockUtils,
            mode: 'production'
        };

        // 컴포넌트 렌더링
        window.addEventListener('load', () => {
            console.log('페이지 로드 완료');
            
            if (typeof SignUpSkin !== 'undefined') {
                console.log('✅ SignUpSkin 로드됨');
                
                try {
                    const container = document.getElementById('signup-skin-container');
                    const root = ReactDOM.createRoot(container);
                    root.render(React.createElement(SignUpSkin, props));
                    console.log('✅ 컴포넌트 렌더링 완료');
                } catch (error) {
                    console.error('❌ 렌더링 에러:', error);
                    document.getElementById('signup-skin-container').innerHTML = 
                        `<div style="padding: 20px; color: red;">
                            <h2>렌더링 에러</h2>
                            <p>${error.message}</p>
                            <pre>${error.stack}</pre>
                        </div>`;
                }
            } else {
                console.error('❌ SignUpSkin이 로드되지 않았습니다');
                document.getElementById('signup-skin-container').innerHTML = 
                    '<div style="padding: 20px; color: red;"><h2>SignUpSkin 로드 실패</h2></div>';
            }
        });
    </script>
</body>
</html>