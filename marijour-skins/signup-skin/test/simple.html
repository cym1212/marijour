<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple SignUp Test</title>
    <style>
        body { margin: 20px; font-family: Arial, sans-serif; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="debug">
        <h3>디버깅 정보</h3>
        <p id="react-status">React 로딩 중...</p>
        <p id="skin-status">Skin 로딩 중...</p>
    </div>
    
    <div id="signup-container">
        <p>SignUp 컴포넌트 로딩 중...</p>
    </div>

    <!-- React 라이브러리 -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 빌드된 스킨 파일들 -->
    <link rel="stylesheet" href="../dist/signup-skin.css">
    <script src="../dist/signup-skin.umd.js"></script>
    
    <script>
        console.log('=== 디버깅 시작 ===');
        
        // React 확인
        if (typeof React !== 'undefined') {
            document.getElementById('react-status').textContent = '✅ React 로드됨: ' + React.version;
            console.log('React loaded:', React.version);
        } else {
            document.getElementById('react-status').textContent = '❌ React 로드 실패';
            console.error('React not loaded');
        }
        
        // ReactDOM 확인
        if (typeof ReactDOM !== 'undefined') {
            console.log('ReactDOM loaded');
        } else {
            console.error('ReactDOM not loaded');
        }
        
        // SignUpSkin 확인
        setTimeout(() => {
            if (typeof SignUpSkin !== 'undefined') {
                document.getElementById('skin-status').textContent = '✅ SignUpSkin 로드됨';
                console.log('SignUpSkin loaded:', SignUpSkin);
                
                // 간단한 props로 렌더링 시도
                try {
                    const props = {
                        data: {
                            formData: {},
                            loading: false,
                            signUpSuccess: false,
                            signUpError: null,
                            validationErrors: {},
                            basicFields: {
                                userId: true,
                                password: true,
                                name: true,
                                email: true
                            },
                            varFields: {},
                            theme: { primaryColor: '#007bff' },
                            socialProviders: [],
                            termsContent: { title: 'Terms', content: '<p>Terms content</p>' },
                            privacyContent: { title: 'Privacy', content: '<p>Privacy content</p>' },
                            defaultAgreements: { age: false, terms: false, privacy: false, marketing: false }
                        },
                        actions: {
                            handleSubmit: (e) => {
                                e.preventDefault();
                                console.log('Form submitted!');
                            },
                            handleChange: (e) => {
                                console.log('Input changed:', e.target.id, e.target.value);
                            },
                            handleBlur: (field) => {
                                console.log('Field blurred:', field);
                            }
                        },
                        options: {
                            allowSocialSignUp: false,
                            theme: { primaryColor: '#007bff' }
                        },
                        utils: {
                            t: (key) => key,
                            navigate: (path) => console.log('Navigate to:', path)
                        }
                    };
                    
                    const container = document.getElementById('signup-container');
                    const root = ReactDOM.createRoot(container);
                    root.render(React.createElement(SignUpSkin, props));
                    
                    console.log('✅ 컴포넌트 렌더링 성공');
                } catch (error) {
                    console.error('❌ 렌더링 에러:', error);
                    document.getElementById('signup-container').innerHTML = 
                        '<p style="color: red;">렌더링 에러: ' + error.message + '</p>';
                }
            } else {
                document.getElementById('skin-status').textContent = '❌ SignUpSkin 로드 실패';
                console.error('SignUpSkin not loaded');
                console.log('Available globals:', Object.keys(window).filter(k => k.includes('Sign')));
            }
        }, 1000);
    </script>
</body>
</html>