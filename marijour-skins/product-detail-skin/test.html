<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Detail Skin Test</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <link rel="stylesheet" href="./dist/product-detail-skin.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background-color: #f5f5f5;
    }
    
    .test-container {
      background: white;
      min-height: 100vh;
    }
    
    .test-header {
      text-align: center;
      padding: 40px 20px;
      background: #f8f8f8;
      margin-bottom: 40px;
    }
    
    h1 {
      margin: 0;
      color: #333;
    }
    
    .note {
      margin-top: 10px;
      color: #666;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="test-header">
    <h1>Product Detail Skin 테스트</h1>
    <p class="note">스크롤 시 하단 고정 구매바가 나타납니다.</p>
  </div>
  
  <div class="test-container">
    <div id="product-detail"></div>
  </div>
  
  <script src="./dist/product-detail-skin.umd.js"></script>
  <script>
    // 문서 가이드라인에 맞는 테스트 데이터
    const mockData = {
      product: {
        id: 1,
        name: '프리미엄 오가닉 코튼 베드 시트 세트',
        price: 89000,
        originalPrice: 129000,
        discountRate: 31,
        images: [
          { url: 'https://via.placeholder.com/600/FF6B6B/FFFFFF?text=Main+Image', alt: '메인 이미지' },
          { url: 'https://via.placeholder.com/600/4ECDC4/FFFFFF?text=Image+2', alt: '상세 이미지 2' },
          { url: 'https://via.placeholder.com/600/45B7D1/FFFFFF?text=Image+3', alt: '상세 이미지 3' },
          { url: 'https://via.placeholder.com/600/96CEB4/FFFFFF?text=Image+4', alt: '상세 이미지 4' }
        ],
        rating: 4.5,
        reviewCount: 234,
        stock: 50,
        description: '<p>프리미엄 오가닉 코튼 100%로 제작된 베드시트 세트입니다. 부드럽고 편안한 촉감과 우수한 통기성으로 쾌적한 수면 환경을 제공합니다.</p>',
        detailImageUrl: 'https://via.placeholder.com/800x2000/F8F8F8/333333?text=Product+Detail+Information',
        specifications: {
          '소재': '오가닉 코튼 100%',
          '제조국': '한국',
          '세탁방법': '30도 찬물 세탁',
          '품질보증': '1년'
        },
        options: [
          {
            name: '사이즈',
            values: ['싱글 (100x200)', '슈퍼싱글 (110x200)', '퀸 (160x200)', '킹 (180x200)'],
            required: true
          },
          {
            name: '색상',
            values: ['화이트', '그레이', '네이비', '베이지'],
            required: true
          }
        ]
      },
      selectedOptions: {
        '사이즈': '퀸 (160x200)',
        '색상': '화이트'
      },
      quantity: 1,
      loading: false,
      activeTab: 'description',
      mainImage: 'https://via.placeholder.com/600/FF6B6B/FFFFFF?text=Main+Image',
      relatedProducts: [
        {
          id: 2,
          name: '프리미엄 구스다운 베개',
          price: 59000,
          image: 'https://via.placeholder.com/300/FF6B6B/FFFFFF?text=Pillow'
        },
        {
          id: 3,
          name: '오가닉 코튼 이불커버',
          price: 49000,
          image: 'https://via.placeholder.com/300/4ECDC4/FFFFFF?text=Cover'
        },
        {
          id: 4,
          name: '메모리폼 매트리스 토퍼',
          price: 129000,
          image: 'https://via.placeholder.com/300/45B7D1/FFFFFF?text=Topper'
        },
        {
          id: 5,
          name: '대나무 섬유 여름이불',
          price: 39000,
          image: 'https://via.placeholder.com/300/96CEB4/FFFFFF?text=Summer'
        }
      ],
      reviews: [
        {
          id: 1,
          rating: 5,
          author: '김민수',
          date: '2024.03.15',
          content: '품질이 정말 좋아요! 부드럽고 편안해서 숙면을 취할 수 있었습니다. 세탁 후에도 변형이 없어서 만족합니다.',
          images: ['https://via.placeholder.com/150/FF6B6B/FFFFFF?text=Review+1']
        },
        {
          id: 2,
          rating: 4,
          author: '이영희',
          date: '2024.03.10',
          content: '색상이 사진과 똑같고 재질도 좋습니다. 다만 배송이 하루 늦어서 별 하나 뺐어요.'
        },
        {
          id: 3,
          rating: 5,
          author: '박철수',
          date: '2024.03.05',
          content: '오가닉 코튼이라 피부에 자극이 없어서 좋아요. 아이들도 편하게 잘 자요.',
          images: [
            'https://via.placeholder.com/150/4ECDC4/FFFFFF?text=Review+2-1',
            'https://via.placeholder.com/150/45B7D1/FFFFFF?text=Review+2-2'
          ]
        }
      ],
      isUserLoggedIn: true,
      isAdminMode: false
    };
    
    // 문서 가이드라인에 맞는 유틸리티 함수
    const utils = {
      t: (key) => key, // 간단한 번역 함수
      cx: (...classes) => classes.filter(Boolean).join(' '),
      navigate: (path) => {
        console.log('Navigate to:', path);
        alert(`페이지 이동: ${path}`);
      },
      formatCurrency: (amount) => {
        return new Intl.NumberFormat('ko-KR').format(amount) + '원';
      },
      formatDate: (date) => {
        return new Date(date).toLocaleDateString('ko-KR');
      },
      getAssetUrl: (path) => path
    };
    
    // 문서 가이드라인에 맞는 액션 함수
    const actions = {
      handleOptionChange: (optionName, value) => {
        console.log('Option changed:', optionName, value);
        // 실제로는 상태 업데이트가 필요하지만 데모용으로 로그만 출력
      },
      handleQuantityChange: (quantity) => {
        console.log('Quantity changed:', quantity);
        // 실제로는 상태 업데이트가 필요하지만 데모용으로 로그만 출력
      },
      handleAddToCart: () => {
        console.log('Add to cart clicked');
        alert('장바구니에 추가되었습니다.');
      },
      handleBuyNow: () => {
        console.log('Buy now clicked');
        alert('구매 페이지로 이동합니다.');
      },
      handleTabChange: (tabName) => {
        console.log('Tab changed:', tabName);
        // 실제로는 상태 업데이트가 필요하지만 데모용으로 로그만 출력
      },
      handleImageChange: (imageUrl) => {
        console.log('Image changed:', imageUrl);
        // 실제로는 상태 업데이트가 필요하지만 데모용으로 로그만 출력
      }
    };
    
    // 문서 가이드라인에 맞는 옵션
    const options = {
      showDescriptionTab: true,
      showReviewsTab: true,
      showSpecificationTab: true,
      showStock: true,
      showRelatedProducts: true,
      showQuantitySelector: true,
      showAddToCart: true,
      showBuyNow: true,
      addToCartButtonColor: '#007bff',
      buyNowButtonColor: '#28a745',
      priceColor: '#ff6b6b',
      stockTextColor: '#28a745',
      order: '',
      none: 'none',
      lg: '9'
    };
    
    // 컴포넌트 렌더링
    if (window.ProductDetailSkin) {
      const container = document.getElementById('product-detail');
      const root = ReactDOM.createRoot(container);
      root.render(React.createElement(window.ProductDetailSkin, {
        data: mockData,
        actions: actions,
        options: options,
        mode: 'view',
        utils: utils,
        app: null,
        editor: null
      }));
    } else {
      console.error('ProductDetailSkin not loaded');
    }
  </script>
</body>
</html>