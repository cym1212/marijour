/*! For license information please see profile-edit-skin.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ProfileEditSkin=t(require("react")):e.ProfileEditSkin=t(e.React)}(this,e=>(()=>{"use strict";var t={12:t=>{t.exports=e}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};n.r(a),n.d(a,{ProfileEditSkin:()=>X,default:()=>Y});var o=n(12),s=n.n(o);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return i(u,"_invoke",function(r,n,a){var o,c,l,i=0,u=a||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,c=0,l=e,d.n=r,s}};function f(r,n){for(c=r,l=n,t=0;!m&&i&&!a&&t<u.length;t++){var a,o=u[t],f=d.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(c=0,d.v=n,d.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,d.n=p,c=0))}if(a||r>1)return s;throw m=!0,n}return function(a,u,p){if(i>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),c=u,l=p;(t=c<2?e:l)||!m;){o||(c?c<3?(c>1&&(d.n=-1),f(c,l)):d.n=l:d.v=l);try{if(i=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=d.n<0)?l:r.call(n,d))!==s)break}catch(t){o=e,c=1,l=t}finally{i=1}}return{value:t,done:m}}}(r,a,o),!0),u}var s={};function c(){}function u(){}function m(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(i(t={},n,function(){return this}),t),f=m.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=m,i(f,"constructor",m),i(m,"constructor",u),u.displayName="GeneratorFunction",i(m,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:p}})()}function i(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}i=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){i(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},i(e,t,r,n)}function u(e,t,r,n,a,o,s){try{var c=e[o](s),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,c=[],l=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t=e.userInfo,r=e.onSubmit,n=e.errors,a=e.isLoading,c=e.options,i=e.actions,m=e.utils,b=p((0,o.useState)({name:t.name||"",email:t.email||"",phoneNumber:t.phoneNumber||"",birthDate:t.birthDate||"",gender:t.gender||void 0,marketingConsent:t.marketingConsent||!1}),2),v=b[0],y=b[1],h=p((0,o.useState)(""),2),E=h[0],g=h[1],w=p((0,o.useState)(!1),2),N=w[0],P=w[1];(0,o.useEffect)(function(){y({name:t.name||"",email:t.email||"",phoneNumber:t.phoneNumber||"",birthDate:t.birthDate||"",gender:t.gender||void 0,marketingConsent:t.marketingConsent||!1})},[t]);var O=function(e,t){y(function(r){return d(d({},r),{},f({},e,t))})},S=function(){var e,t=(e=l().m(function e(t){var r,n;return l().w(function(e){for(;;)switch(e.n){case 0:if(t.target.files&&t.target.files[0]){e.n=1;break}return e.a(2);case 1:if(!((r=t.target.files[0]).size>5242880)){e.n=2;break}return m.showToast("이미지 파일은 5MB 이하로 업로드해주세요.","error"),e.a(2);case 2:return P(!0),e.p=3,e.n=4,i.uploadProfileImage(r);case 4:n=e.v,g(n),m.showToast("프로필 이미지가 업로드되었습니다.","success"),e.n=6;break;case 5:e.p=5,e.v,m.showToast("이미지 업로드에 실패했습니다.","error");case 6:return e.p=6,P(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){u(o,n,a,s,c,"next",e)}function c(e){u(o,n,a,s,c,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}(),j=function(e){return c.requiredFields.includes(e)};return s().createElement("div",{className:"profile-info-form"},s().createElement("form",{onSubmit:function(e){e.preventDefault(),r(v)},className:"profile-form"},s().createElement("div",{className:"form-section"},s().createElement("h3",{className:"section-title"},"기본 정보"),c.allowProfileImageUpload&&s().createElement("div",{className:"form-group profile-image-group"},s().createElement("label",{className:"form-label"},"프로필 이미지"),s().createElement("div",{className:"profile-image-upload"},s().createElement("div",{className:"image-preview"},E?s().createElement("img",{src:E,alt:"프로필 이미지",className:"profile-image"}):s().createElement("div",{className:"profile-image-placeholder"},s().createElement("span",{className:"placeholder-text"},"이미지 없음"))),s().createElement("label",{className:"upload-button",htmlFor:"profileImage"},N?"업로드 중...":"이미지 변경"),s().createElement("input",{type:"file",id:"profileImage",accept:"image/*",onChange:S,disabled:N,className:"hidden-input"}))),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"name"},"이름 ",j("name")&&s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"text",id:"name",className:"form-input ".concat(n.name?"error":""),value:v.name,onChange:function(e){return O("name",e.target.value)},placeholder:"이름을 입력해주세요",required:j("name")}),n.name&&s().createElement("span",{className:"error-message"},n.name)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"email"},"이메일 ",j("email")&&s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"email",id:"email",className:"form-input ".concat(n.email?"error":""),value:v.email,onChange:function(e){return O("email",e.target.value)},placeholder:"이메일을 입력해주세요",required:j("email")}),n.email&&s().createElement("span",{className:"error-message"},n.email)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"phoneNumber"},"휴대폰 번호 ",j("phoneNumber")&&s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"tel",id:"phoneNumber",className:"form-input ".concat(n.phoneNumber?"error":""),value:v.phoneNumber,onChange:function(e){return O("phoneNumber",e.target.value)},placeholder:"휴대폰 번호를 입력해주세요",required:j("phoneNumber")}),n.phoneNumber&&s().createElement("span",{className:"error-message"},n.phoneNumber)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"birthDate"},"생년월일 ",j("birthDate")&&s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"date",id:"birthDate",className:"form-input ".concat(n.birthDate?"error":""),value:v.birthDate,onChange:function(e){return O("birthDate",e.target.value)},required:j("birthDate")}),n.birthDate&&s().createElement("span",{className:"error-message"},n.birthDate)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label"},"성별 ",j("gender")&&s().createElement("span",{className:"required"},"*")),s().createElement("div",{className:"radio-group"},s().createElement("label",{className:"radio-label"},s().createElement("input",{type:"radio",name:"gender",value:"male",checked:"male"===v.gender,onChange:function(e){return O("gender",e.target.value)},className:"radio-input"}),s().createElement("span",{className:"radio-text"},"남성")),s().createElement("label",{className:"radio-label"},s().createElement("input",{type:"radio",name:"gender",value:"female",checked:"female"===v.gender,onChange:function(e){return O("gender",e.target.value)},className:"radio-input"}),s().createElement("span",{className:"radio-text"},"여성")),s().createElement("label",{className:"radio-label"},s().createElement("input",{type:"radio",name:"gender",value:"other",checked:"other"===v.gender,onChange:function(e){return O("gender",e.target.value)},className:"radio-input"}),s().createElement("span",{className:"radio-text"},"기타"))),n.gender&&s().createElement("span",{className:"error-message"},n.gender))),s().createElement("div",{className:"form-section"},s().createElement("h3",{className:"section-title"},"마케팅 정보"),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"checkbox-label"},s().createElement("input",{type:"checkbox",checked:v.marketingConsent,onChange:function(e){return O("marketingConsent",e.target.checked)},className:"checkbox-input"}),s().createElement("span",{className:"checkbox-text"},"이메일 및 SMS 마케팅 정보 수신에 동의합니다.")))),s().createElement("div",{className:"form-section"},s().createElement("h3",{className:"section-title"},"계정 정보"),s().createElement("div",{className:"account-info"},s().createElement("div",{className:"info-item"},s().createElement("span",{className:"info-label"},"가입일"),s().createElement("span",{className:"info-value"},new Date(t.joinDate).toLocaleDateString())),t.lastLoginDate&&s().createElement("div",{className:"info-item"},s().createElement("span",{className:"info-label"},"최근 로그인"),s().createElement("span",{className:"info-value"},new Date(t.lastLoginDate).toLocaleDateString())))),s().createElement("div",{className:"form-actions"},s().createElement("button",{type:"submit",className:"submit-button",disabled:a},a?"저장 중...":"회원정보 수정"))))};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,c=[],l=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t,r,n=e.onSubmit,a=e.errors,c=e.isLoading,l=e.options,i=w((0,o.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),2),u=i[0],m=i[1],d=w((0,o.useState)({current:!1,new:!1,confirm:!1}),2),f=d[0],p=d[1],b=function(e,t){m(function(r){return E(E({},r),{},g({},e,t))})},v=function(e){p(function(t){return E(E({},t),{},g({},e,!t[e]))})},y=function(e){var t=l.passwordPolicy;return!(e.length<t.minLength||t.requireUppercase&&!/[A-Z]/.test(e)||t.requireLowercase&&!/[a-z]/.test(e)||t.requireNumbers&&!/[0-9]/.test(e)||t.requireSpecialChars&&!/[!@#$%^&*(),.?":{}|<>]/.test(e))},h=""!==u.newPassword&&u.newPassword===u.confirmPassword;return s().createElement("div",{className:"password-change-form"},s().createElement("form",{onSubmit:function(e){e.preventDefault(),n(u)},className:"password-form"},s().createElement("div",{className:"form-section"},s().createElement("h3",{className:"section-title"},"비밀번호 변경"),s().createElement("p",{className:"section-description"},"보안을 위해 현재 비밀번호를 입력한 후 새로운 비밀번호를 설정해주세요."),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"currentPassword"},"현재 비밀번호 ",s().createElement("span",{className:"required"},"*")),s().createElement("div",{className:"password-input-wrapper"},s().createElement("input",{type:f.current?"text":"password",id:"currentPassword",className:"form-input ".concat(a.currentPassword?"error":""),value:u.currentPassword,onChange:function(e){return b("currentPassword",e.target.value)},placeholder:"현재 비밀번호를 입력해주세요",required:!0}),s().createElement("button",{type:"button",className:"password-toggle",onClick:function(){return v("current")},"aria-label":f.current?"비밀번호 숨기기":"비밀번호 보기"},f.current?"👁️":"👁️‍🗨️")),a.currentPassword&&s().createElement("span",{className:"error-message"},a.currentPassword)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"newPassword"},"새 비밀번호 ",s().createElement("span",{className:"required"},"*")),s().createElement("div",{className:"password-input-wrapper"},s().createElement("input",{type:f.new?"text":"password",id:"newPassword",className:"form-input ".concat(a.newPassword?"error":""),value:u.newPassword,onChange:function(e){return b("newPassword",e.target.value)},placeholder:"새 비밀번호를 입력해주세요",required:!0}),s().createElement("button",{type:"button",className:"password-toggle",onClick:function(){return v("new")},"aria-label":f.new?"비밀번호 숨기기":"비밀번호 보기"},f.new?"👁️":"👁️‍🗨️")),a.newPassword?s().createElement("span",{className:"error-message"},a.newPassword):s().createElement("div",{className:"password-requirements"},s().createElement("span",{className:"requirement ".concat(y(u.newPassword)?"valid":"invalid")},(r=[],(t=l.passwordPolicy).minLength&&r.push("최소 ".concat(t.minLength,"자 이상")),t.requireUppercase&&r.push("영문 대문자"),t.requireLowercase&&r.push("영문 소문자"),t.requireNumbers&&r.push("숫자"),t.requireSpecialChars&&r.push("특수문자"),r.join(", ")+" 포함")))),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"confirmPassword"},"새 비밀번호 확인 ",s().createElement("span",{className:"required"},"*")),s().createElement("div",{className:"password-input-wrapper"},s().createElement("input",{type:f.confirm?"text":"password",id:"confirmPassword",className:"form-input ".concat(a.confirmPassword?"error":""),value:u.confirmPassword,onChange:function(e){return b("confirmPassword",e.target.value)},placeholder:"새 비밀번호를 다시 입력해주세요",required:!0}),s().createElement("button",{type:"button",className:"password-toggle",onClick:function(){return v("confirm")},"aria-label":f.confirm?"비밀번호 숨기기":"비밀번호 보기"},f.confirm?"👁️":"👁️‍🗨️")),a.confirmPassword?s().createElement("span",{className:"error-message"},a.confirmPassword):u.confirmPassword&&s().createElement("span",{className:"password-match ".concat(h?"valid":"invalid")},h?"비밀번호가 일치합니다":"비밀번호가 일치하지 않습니다"))),s().createElement("div",{className:"password-tips"},s().createElement("h4",{className:"tips-title"},"비밀번호 설정 시 주의사항"),s().createElement("ul",{className:"tips-list"},s().createElement("li",null,"개인정보(이름, 생년월일, 전화번호 등)를 포함하지 마세요"),s().createElement("li",null,"이전에 사용했던 비밀번호는 사용하지 마세요"),s().createElement("li",null,"다른 사이트와 동일한 비밀번호는 사용하지 마세요"),s().createElement("li",null,"정기적으로 비밀번호를 변경해주세요"))),s().createElement("div",{className:"form-actions"},s().createElement("button",{type:"submit",className:"submit-button",disabled:c||!u.currentPassword||!y(u.newPassword)||!h},c?"변경 중...":"비밀번호 변경"))))};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,i=Object.create(l.prototype);return j(i,"_invoke",function(r,n,a){var o,c,l,i=0,u=a||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,c=0,l=e,d.n=r,s}};function f(r,n){for(c=r,l=n,t=0;!m&&i&&!a&&t<u.length;t++){var a,o=u[t],f=d.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(c=0,d.v=n,d.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,d.n=p,c=0))}if(a||r>1)return s;throw m=!0,n}return function(a,u,p){if(i>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),c=u,l=p;(t=c<2?e:l)||!m;){o||(c?c<3?(c>1&&(d.n=-1),f(c,l)):d.n=l:d.v=l);try{if(i=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=d.n<0)?l:r.call(n,d))!==s)break}catch(t){o=e,c=1,l=t}finally{i=1}}return{value:t,done:m}}}(r,a,o),!0),i}var s={};function c(){}function l(){}function i(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(j(t={},n,function(){return this}),t),m=i.prototype=c.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,j(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=i,j(m,"constructor",i),j(i,"constructor",l),l.displayName="GeneratorFunction",j(i,a,"GeneratorFunction"),j(m),j(m,a,"Generator"),j(m,n,function(){return this}),j(m,"toString",function(){return"[object Generator]"}),(S=function(){return{w:o,m:d}})()}function j(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}j=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){j(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},j(e,t,r,n)}function k(e,t,r,n,a,o,s){try{var c=e[o](s),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function A(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){k(o,n,a,s,c,"next",e)}function c(e){k(o,n,a,s,c,"throw",e)}s(void 0)})}}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e,t,r){return(t=function(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,c=[],l=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=function(e){var t=e.addresses,r=e.onSubmit,n=e.onDelete,a=e.onSetDefault,c=e.onSearchAddress,l=e.errors,i=e.isLoading,u=e.options,m=e.utils,d=x((0,o.useState)(!1),2),f=d[0],p=d[1],b=x((0,o.useState)(null),2),v=b[0],y=b[1],h=x((0,o.useState)({name:"",recipient:"",phoneNumber:"",zonecode:"",roadAddress:"",detailAddress:"",deliveryRequest:"",isDefault:!1}),2),E=h[0],g=h[1],w=x((0,o.useState)([]),2),N=w[0],P=w[1],O=x((0,o.useState)(!1),2),j=O[0],k=O[1],T=function(){g({name:"",recipient:"",phoneNumber:"",zonecode:"",roadAddress:"",detailAddress:"",deliveryRequest:"",isDefault:!1}),y(null),P([])},C=function(e,t){g(function(r){return D(D({},r),{},q({},e,t))})},F=function(){T(),p(!0)},I=function(){var e=A(S().m(function e(t){return S().w(function(e){for(;;)switch(e.n){case 0:if(!window.confirm("이 주소를 삭제하시겠습니까?")){e.n=4;break}return e.p=1,e.n=2,n(t);case 2:m.showToast("주소가 삭제되었습니다.","success"),e.n=4;break;case 3:e.p=3,e.v,m.showToast("주소 삭제에 실패했습니다.","error");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=A(S().m(function e(t){return S().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,a(t);case 1:m.showToast("기본 주소가 설정되었습니다.","success"),e.n=3;break;case 2:e.p=2,e.v,m.showToast("기본 주소 설정에 실패했습니다.","error");case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=A(S().m(function e(){var t,r;return S().w(function(e){for(;;)switch(e.n){case 0:if(E.zonecode||E.roadAddress){e.n=1;break}return m.showToast("우편번호 또는 도로명 주소를 입력해주세요.","warning"),e.a(2);case 1:return k(!0),e.p=2,t=E.zonecode||E.roadAddress,e.n=3,c(t);case 3:r=e.v,P(r),e.n=5;break;case 4:e.p=4,e.v,m.showToast("주소 검색에 실패했습니다.","error");case 5:return e.p=5,k(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),L=t.length<u.maxAddresses;return s().createElement("div",{className:"address-management"},s().createElement("div",{className:"address-management-header"},s().createElement("h3",{className:"section-title"},"주소 관리"),s().createElement("p",{className:"section-description"},"배송지 주소를 관리할 수 있습니다. (최대 ",u.maxAddresses,"개)"),L&&s().createElement("button",{type:"button",className:"add-address-button",onClick:F,disabled:f},"+ 새 주소 추가")),f&&s().createElement("div",{className:"address-form-container"},s().createElement("form",{onSubmit:function(e){e.preventDefault(),r(E,null!==v,null==v?void 0:v.id),l.addressName||l.recipient||l.addressPhone||l.address||l.detailAddress||(p(!1),T())},className:"address-form"},s().createElement("div",{className:"form-header"},s().createElement("h4",{className:"form-title"},v?"주소 수정":"새 주소 추가")),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"addressName"},"주소 이름 ",s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"text",id:"addressName",className:"form-input ".concat(l.addressName?"error":""),value:E.name,onChange:function(e){return C("name",e.target.value)},placeholder:"예: 집, 회사, 친구집",required:!0}),l.addressName&&s().createElement("span",{className:"error-message"},l.addressName)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"recipient"},"수령인 ",s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"text",id:"recipient",className:"form-input ".concat(l.recipient?"error":""),value:E.recipient,onChange:function(e){return C("recipient",e.target.value)},placeholder:"수령인 이름을 입력해주세요",required:!0}),l.recipient&&s().createElement("span",{className:"error-message"},l.recipient)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"addressPhone"},"휴대폰 번호 ",s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"tel",id:"addressPhone",className:"form-input ".concat(l.addressPhone?"error":""),value:E.phoneNumber,onChange:function(e){return C("phoneNumber",e.target.value)},placeholder:"휴대폰 번호를 입력해주세요",required:!0}),l.addressPhone&&s().createElement("span",{className:"error-message"},l.addressPhone)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"address"},"주소 ",s().createElement("span",{className:"required"},"*")),s().createElement("div",{className:"address-search-container"},s().createElement("div",{className:"address-search-row"},s().createElement("input",{type:"text",id:"zonecode",className:"form-input zonecode-input",value:E.zonecode,onChange:function(e){return C("zonecode",e.target.value)},placeholder:"우편번호",readOnly:!0}),s().createElement("button",{type:"button",className:"address-search-button",onClick:z,disabled:j},j?"검색 중...":"주소 검색")),s().createElement("input",{type:"text",id:"roadAddress",className:"form-input",value:E.roadAddress,onChange:function(e){return C("roadAddress",e.target.value)},placeholder:"도로명 주소",readOnly:!0}),s().createElement("input",{type:"text",id:"detailAddress",className:"form-input ".concat(l.detailAddress?"error":""),value:E.detailAddress,onChange:function(e){return C("detailAddress",e.target.value)},placeholder:"상세 주소를 입력해주세요",required:!0}),l.address&&s().createElement("span",{className:"error-message"},l.address),l.detailAddress&&s().createElement("span",{className:"error-message"},l.detailAddress)),N.length>0&&s().createElement("div",{className:"address-search-results"},s().createElement("h5",{className:"results-title"},"검색 결과"),s().createElement("ul",{className:"results-list"},N.map(function(e,t){return s().createElement("li",{key:t,className:"result-item"},s().createElement("button",{type:"button",className:"result-button",onClick:function(){return function(e){g(function(t){return D(D({},t),{},{zonecode:e.zonecode,roadAddress:e.roadAddress})}),P([])}(e)}},s().createElement("div",{className:"result-address"},s().createElement("span",{className:"result-zonecode"},"[",e.zonecode,"]"),s().createElement("span",{className:"result-road"},e.roadAddress)),e.buildingName&&s().createElement("div",{className:"result-building"},"(",e.buildingName,")")))})))),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"deliveryRequest"},"배송 요청사항 (선택사항)"),s().createElement("input",{type:"text",id:"deliveryRequest",className:"form-input",value:E.deliveryRequest,onChange:function(e){return C("deliveryRequest",e.target.value)},placeholder:"배송 시 요청사항을 입력해주세요"})),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"checkbox-label"},s().createElement("input",{type:"checkbox",checked:E.isDefault,onChange:function(e){return C("isDefault",e.target.checked)},className:"checkbox-input"}),s().createElement("span",{className:"checkbox-text"},"기본 배송지로 설정"))),s().createElement("div",{className:"form-actions"},s().createElement("button",{type:"button",className:"cancel-button",onClick:function(){p(!1),T()}},"취소"),s().createElement("button",{type:"submit",className:"submit-button",disabled:i},i?"저장 중...":v?"수정":"추가")))),s().createElement("div",{className:"address-list"},0===t.length?s().createElement("div",{className:"empty-state"},s().createElement("p",null,"등록된 주소가 없습니다."),s().createElement("button",{type:"button",className:"add-first-address-button",onClick:F},"첫 번째 주소 추가하기")):s().createElement("div",{className:"address-cards"},t.map(function(e){return s().createElement("div",{key:e.id,className:"address-card ".concat(e.isDefault?"default":"")},s().createElement("div",{className:"address-header"},s().createElement("h4",{className:"address-name"},e.name),e.isDefault&&s().createElement("span",{className:"default-badge"},"기본 배송지")),s().createElement("div",{className:"address-info"},s().createElement("div",{className:"address-recipient"},s().createElement("span",{className:"label"},"수령인:"),s().createElement("span",{className:"value"},e.recipient)),s().createElement("div",{className:"address-phone"},s().createElement("span",{className:"label"},"연락처:"),s().createElement("span",{className:"value"},e.phoneNumber)),s().createElement("div",{className:"address-location"},s().createElement("span",{className:"label"},"주소:"),s().createElement("span",{className:"value"},"[",e.zonecode,"] ",e.roadAddress," ",e.detailAddress)),e.deliveryRequest&&s().createElement("div",{className:"address-request"},s().createElement("span",{className:"label"},"배송 요청:"),s().createElement("span",{className:"value"},e.deliveryRequest))),s().createElement("div",{className:"address-actions"},!e.isDefault&&s().createElement("button",{type:"button",className:"action-button set-default",onClick:function(){return _(e.id)}},"기본 설정"),s().createElement("button",{type:"button",className:"action-button edit",onClick:function(){return function(e){g({name:e.name,recipient:e.recipient,phoneNumber:e.phoneNumber,zonecode:e.zonecode,roadAddress:e.roadAddress,detailAddress:e.detailAddress,deliveryRequest:e.deliveryRequest||"",isDefault:e.isDefault}),y(e),p(!0)}(e)}},"수정"),s().createElement("button",{type:"button",className:"action-button delete",onClick:function(){return I(e.id)}},"삭제")))}))))};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e,t,r){return(t=function(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,c=[],l=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){var t=e.withdrawalReasons,r=e.onSubmit,n=e.errors,a=e.isLoading,c=(e.utils,G((0,o.useState)({reason:"",detail:"",confirmPassword:"",agreeToTerms:!1}),2)),l=c[0],i=c[1],u=G((0,o.useState)(!1),2),m=u[0],d=u[1],f=function(e,t){i(function(r){return z(z({},r),{},L({},e,t))})},p=function(){m?d(!1):i({reason:"",detail:"",confirmPassword:"",agreeToTerms:!1})};return m?s().createElement("div",{className:"account-withdrawal-form"},s().createElement("div",{className:"withdrawal-confirmation"},s().createElement("div",{className:"confirmation-content"},s().createElement("h3",{className:"confirmation-title"},"정말로 회원탈퇴를 진행하시겠습니까?"),s().createElement("div",{className:"withdrawal-warnings"},s().createElement("div",{className:"warning-item"},s().createElement("h4",null,"⚠️ 회원탈퇴 시 주의사항"),s().createElement("ul",null,s().createElement("li",null,"탈퇴 시 회원정보는 즉시 삭제되며 복구할 수 없습니다"),s().createElement("li",null,"주문 내역, 적립금, 쿠폰 등 모든 혜택이 삭제됩니다"),s().createElement("li",null,"동일한 이메일로 재가입 시 기존 정보는 복구되지 않습니다"),s().createElement("li",null,"진행 중인 주문이 있는 경우 탈퇴가 제한될 수 있습니다"))),s().createElement("div",{className:"withdrawal-summary"},s().createElement("h4",null,"탈퇴 사유"),s().createElement("p",null,s().createElement("strong",null,l.reason)),l.detail&&s().createElement(s().Fragment,null,s().createElement("h4",null,"상세 사유"),s().createElement("p",null,l.detail)))),s().createElement("div",{className:"confirmation-actions"},s().createElement("button",{type:"button",className:"cancel-button",onClick:p,disabled:a},"취소"),s().createElement("button",{type:"button",className:"confirm-button danger",onClick:function(){return r(l)},disabled:a},a?"탈퇴 진행 중...":"탈퇴 진행"))))):s().createElement("div",{className:"account-withdrawal-form"},s().createElement("form",{onSubmit:function(e){e.preventDefault(),m?r(l):d(!0)},className:"withdrawal-form"},s().createElement("div",{className:"form-section"},s().createElement("h3",{className:"section-title"},"회원탈퇴"),s().createElement("p",{className:"section-description"},"회원탈퇴를 진행하기 전에 아래 내용을 확인해주세요."),s().createElement("div",{className:"withdrawal-notice"},s().createElement("h4",{className:"notice-title"},"📋 탈퇴 전 확인사항"),s().createElement("ul",{className:"notice-list"},s().createElement("li",null,"진행 중인 주문이 있는지 확인해주세요"),s().createElement("li",null,"보유 중인 적립금이나 쿠폰을 사용해주세요"),s().createElement("li",null,"필요한 주문 내역은 미리 저장해주세요"),s().createElement("li",null,"탈퇴 후에는 모든 정보가 삭제되어 복구할 수 없습니다"))),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"reason"},"탈퇴 사유 ",s().createElement("span",{className:"required"},"*")),s().createElement("select",{id:"reason",className:"form-select ".concat(n.reason?"error":""),value:l.reason,onChange:function(e){return f("reason",e.target.value)},required:!0},s().createElement("option",{value:""},"탈퇴 사유를 선택해주세요"),t.map(function(e,t){return s().createElement("option",{key:t,value:e},e)})),n.reason&&s().createElement("span",{className:"error-message"},n.reason)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"detail"},"상세 사유 (선택사항)"),s().createElement("textarea",{id:"detail",className:"form-textarea",value:l.detail,onChange:function(e){return f("detail",e.target.value)},placeholder:"탈퇴 사유에 대한 상세한 내용을 입력해주세요 (선택사항)",rows:4})),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"form-label",htmlFor:"confirmPassword"},"비밀번호 확인 ",s().createElement("span",{className:"required"},"*")),s().createElement("input",{type:"password",id:"confirmPassword",className:"form-input ".concat(n.confirmPassword?"error":""),value:l.confirmPassword,onChange:function(e){return f("confirmPassword",e.target.value)},placeholder:"현재 비밀번호를 입력해주세요",required:!0}),n.confirmPassword&&s().createElement("span",{className:"error-message"},n.confirmPassword)),s().createElement("div",{className:"form-group"},s().createElement("label",{className:"checkbox-label"},s().createElement("input",{type:"checkbox",checked:l.agreeToTerms,onChange:function(e){return f("agreeToTerms",e.target.checked)},className:"checkbox-input",required:!0}),s().createElement("span",{className:"checkbox-text"},"위 탈퇴 안내사항을 모두 확인했으며, 회원탈퇴를 진행하는 것에 동의합니다.")),n.agreeToTerms&&s().createElement("span",{className:"error-message"},n.agreeToTerms))),s().createElement("div",{className:"withdrawal-warning"},s().createElement("div",{className:"warning-box"},s().createElement("h4",{className:"warning-title"},"⚠️ 중요 안내"),s().createElement("p",null,"회원탈퇴 시 모든 개인정보가 삭제되며, 동일한 이메일로 재가입하더라도 기존 정보는 복구되지 않습니다. 신중히 결정해주세요."))),s().createElement("div",{className:"form-actions"},s().createElement("button",{type:"button",className:"cancel-button",onClick:p},"취소"),s().createElement("button",{type:"submit",className:"submit-button danger",disabled:a||!l.reason||!l.confirmPassword||!l.agreeToTerms},a?"처리 중...":"회원탈퇴 신청"))))};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function $(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,i=Object.create(l.prototype);return W(i,"_invoke",function(r,n,a){var o,c,l,i=0,u=a||[],m=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,c=0,l=e,d.n=r,s}};function f(r,n){for(c=r,l=n,t=0;!m&&i&&!a&&t<u.length;t++){var a,o=u[t],f=d.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(c=0,d.v=n,d.n=o[1]):f<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,d.n=p,c=0))}if(a||r>1)return s;throw m=!0,n}return function(a,u,p){if(i>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),c=u,l=p;(t=c<2?e:l)||!m;){o||(c?c<3?(c>1&&(d.n=-1),f(c,l)):d.n=l:d.v=l);try{if(i=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(m=d.n<0)?l:r.call(n,d))!==s)break}catch(t){o=e,c=1,l=t}finally{i=1}}return{value:t,done:m}}}(r,a,o),!0),i}var s={};function c(){}function l(){}function i(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(W(t={},n,function(){return this}),t),m=i.prototype=c.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,W(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=i,W(m,"constructor",i),W(i,"constructor",l),l.displayName="GeneratorFunction",W(i,a,"GeneratorFunction"),W(m),W(m,a,"Generator"),W(m,n,function(){return this}),W(m,"toString",function(){return"[object Generator]"}),($=function(){return{w:o,m:d}})()}function W(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}W=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){W(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},W(e,t,r,n)}function Z(e,t,r,n,a,o,s){try{var c=e[o](s),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function B(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){Z(o,n,a,s,c,"next",e)}function c(e){Z(o,n,a,s,c,"throw",e)}s(void 0)})}}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){K(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K(e,t,r){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,c=[],l=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(i)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const X=function(e){var t=e.data,r=e.actions,n=e.options,a=e.utils,c=(e.mode,Q((0,o.useState)("profile"),2)),l=c[0],i=c[1],u=Q((0,o.useState)(!1),2),m=u[0],d=u[1],f=Q((0,o.useState)({}),2),p=f[0],b=f[1],y=Q((0,o.useState)(!1),2),h=(y[0],y[1]);(0,o.useEffect)(function(){var e=function(){h(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);var E=function(){b({})},g=function(e,t){b(function(r){return J(J({},r),{},K({},e,t))})},w=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},N=function(e){return/^01[0-9]-?[0-9]{4}-?[0-9]{4}$/.test(e)},O=function(e){var t=n.passwordPolicy;return!(e.length<t.minLength||t.requireUppercase&&!/[A-Z]/.test(e)||t.requireLowercase&&!/[a-z]/.test(e)||t.requireNumbers&&!/[0-9]/.test(e)||t.requireSpecialChars&&!/[!@#$%^&*(),.?":{}|<>]/.test(e))},S=function(){var e=B($().m(function e(t){return $().w(function(e){for(;;)switch(e.n){case 0:if(E(),d(!0),e.p=1,t.name.trim()){e.n=2;break}return g("name","이름을 입력해주세요."),e.a(2);case 2:if(t.email.trim()){e.n=3;break}return g("email","이메일을 입력해주세요."),e.a(2);case 3:if(w(t.email)){e.n=4;break}return g("email","올바른 이메일 형식을 입력해주세요."),e.a(2);case 4:if(t.phoneNumber.trim()){e.n=5;break}return g("phoneNumber","휴대폰 번호를 입력해주세요."),e.a(2);case 5:if(N(t.phoneNumber)){e.n=6;break}return g("phoneNumber","올바른 휴대폰 번호 형식을 입력해주세요."),e.a(2);case 6:return e.n=7,r.updateUserInfo(t);case 7:a.showToast("회원정보가 수정되었습니다.","success"),e.n=9;break;case 8:e.p=8,e.v,a.showToast("회원정보 수정에 실패했습니다.","error");case 9:return e.p=9,d(!1),e.f(9);case 10:return e.a(2)}},e,null,[[1,8,9,10]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=B($().m(function e(t){return $().w(function(e){for(;;)switch(e.n){case 0:if(E(),d(!0),e.p=1,t.currentPassword.trim()){e.n=2;break}return g("currentPassword","현재 비밀번호를 입력해주세요."),e.a(2);case 2:if(t.newPassword.trim()){e.n=3;break}return g("newPassword","새 비밀번호를 입력해주세요."),e.a(2);case 3:if(O(t.newPassword)){e.n=4;break}return g("newPassword","비밀번호 정책에 맞지 않습니다."),e.a(2);case 4:if(t.newPassword===t.confirmPassword){e.n=5;break}return g("confirmPassword","비밀번호가 일치하지 않습니다."),e.a(2);case 5:return e.n=6,r.changePassword(t.currentPassword,t.newPassword);case 6:a.showToast("비밀번호가 변경되었습니다.","success"),e.n=8;break;case 7:e.p=7,e.v,a.showToast("비밀번호 변경에 실패했습니다.","error");case 8:return e.p=8,d(!1),e.f(8);case 9:return e.a(2)}},e,null,[[1,7,8,9]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=B($().m(function e(t,n,o){return $().w(function(e){for(;;)switch(e.n){case 0:if(E(),d(!0),e.p=1,t.name.trim()){e.n=2;break}return g("addressName","주소 이름을 입력해주세요."),e.a(2);case 2:if(t.recipient.trim()){e.n=3;break}return g("recipient","수령인을 입력해주세요."),e.a(2);case 3:if(t.phoneNumber.trim()){e.n=4;break}return g("addressPhone","휴대폰 번호를 입력해주세요."),e.a(2);case 4:if(N(t.phoneNumber)){e.n=5;break}return g("addressPhone","올바른 휴대폰 번호 형식을 입력해주세요."),e.a(2);case 5:if(t.zonecode&&t.roadAddress){e.n=6;break}return g("address","주소를 검색해주세요."),e.a(2);case 6:if(t.detailAddress.trim()){e.n=7;break}return g("detailAddress","상세 주소를 입력해주세요."),e.a(2);case 7:if(!n||!o){e.n=9;break}return e.n=8,r.updateAddress(o,t);case 8:a.showToast("주소가 수정되었습니다.","success"),e.n=11;break;case 9:return e.n=10,r.addAddress(t);case 10:a.showToast("주소가 추가되었습니다.","success");case 11:e.n=13;break;case 12:e.p=12,e.v,a.showToast("주소 저장에 실패했습니다.","error");case 13:return e.p=13,d(!1),e.f(13);case 14:return e.a(2)}},e,null,[[1,12,13,14]])}));return function(t,r,n){return e.apply(this,arguments)}}(),A=function(){var e=B($().m(function e(t){return $().w(function(e){for(;;)switch(e.n){case 0:if(E(),d(!0),e.p=1,t.reason){e.n=2;break}return g("reason","탈퇴 사유를 선택해주세요."),e.a(2);case 2:if(t.confirmPassword.trim()){e.n=3;break}return g("confirmPassword","비밀번호를 입력해주세요."),e.a(2);case 3:if(t.agreeToTerms){e.n=4;break}return g("agreeToTerms","탈퇴 안내사항에 동의해주세요."),e.a(2);case 4:return e.n=5,r.requestWithdrawal(t.reason,t.detail);case 5:a.showToast("회원탈퇴가 요청되었습니다.","success"),e.n=7;break;case 6:e.p=6,e.v,a.showToast("회원탈퇴 요청에 실패했습니다.","error");case 7:return e.p=7,d(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(t){return e.apply(this,arguments)}}(),T=[{id:"profile",label:"회원정보 수정",enabled:!0},{id:"password",label:"비밀번호 변경",enabled:n.allowPasswordChange},{id:"address",label:"주소 관리",enabled:!0},{id:"withdrawal",label:"회원탈퇴",enabled:n.allowWithdrawal}].filter(function(e){return e.enabled});return s().createElement("div",{className:"profile-edit-skin"},s().createElement("div",{className:"profile-edit-container"},s().createElement("div",{className:"profile-edit-header"},s().createElement("h2",{className:"profile-edit-title"},"회원정보 관리")),s().createElement("div",{className:"profile-edit-content"},s().createElement("div",{className:"profile-edit-tabs"},T.map(function(e){return s().createElement("button",{key:e.id,type:"button",className:"profile-edit-tab ".concat(l===e.id?"active":""),onClick:function(){return i(e.id)}},e.label)})),s().createElement("div",{className:"profile-edit-panel"},function(){switch(l){case"profile":return s().createElement(v,{userInfo:t.userInfo,onSubmit:S,errors:p,isLoading:m,options:n,actions:r,utils:a});case"password":return s().createElement(P,{onSubmit:j,errors:p,isLoading:m,options:n});case"address":return s().createElement(F,{addresses:t.addresses,onSubmit:k,onDelete:r.deleteAddress,onSetDefault:r.setDefaultAddress,onSearchAddress:r.searchAddress,errors:p,isLoading:m,options:n,utils:a});case"withdrawal":return s().createElement(M,{withdrawalReasons:t.withdrawalReasons,onSubmit:A,errors:p,isLoading:m,utils:a});default:return null}}()))))},Y=X;return a})());
//# sourceMappingURL=profile-edit-skin.js.map